
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />        
      <meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Salesforce Lookup" /><meta name="abstract" content="The Salesforce Lookup processor performs lookups in a Salesforce object and passes the lookup values to fields. Use the Salesforce Lookup to enrich records with additional data." /><meta name="description" content="The Salesforce Lookup processor performs lookups in a Salesforce object and passes the lookup values to fields. Use the Salesforce Lookup to enrich records with additional data." /><meta name="DC.Relation" scheme="URI" content="../Processors/Processors_title.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_k23_3rk_yx" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Salesforce Lookup</title><!--  Generated with Oxygen version 18.1, build number 2016112217.  --><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css" /><link rel="stylesheet" type="text/css" href="../skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../index.html";
            
            --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script>
<!--
    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
</head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../Processors/Processors_title.html" title="Processors">Processors</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../Processors/Processors_title.html" title="Processors"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Processors</span></a></span>  </span></td></tr></tbody></table>
<div class="nested0" id="concept_k23_3rk_yx">
 <h1 class="title topictitle1">Salesforce Lookup</h1>

 
 <div class="body conbody"><p class="shortdesc">The Salesforce Lookup processor performs lookups in a Salesforce object and passes the
        lookup values to fields. Use the Salesforce Lookup to enrich records with additional
        data.</p>

  <p class="p">For example, you can configure the processor to
            use an account_number field as the field to look up account name values in a Salesforce
            object, and pass the values to a new account_name output field.</p>

        <p class="p">When you configure the Salesforce Lookup processor, you define connection information
            that the processor uses to connect to Salesforce, including the Salesforce API
            version.</p>

        <p class="p">You specify the lookup mode and related properties, and the output fields for return
            values. You can optionally define a default value to use for fields with missing values.
            You can also configure the processor to locally cache the lookup values to improve
            performance. </p>

        <p class="p">When using the SOQL Query lookup mode, and either the SOAP API or the Bulk API version
                <span class="ph">39.0</span> or later, you can configure the processor to retrieve deleted records from the
            Salesforce recycle bin.</p>

        <p class="p">The processor generates Salesforce field attributes that provide additional information
            about each field. </p>

        <p class="p">You can optionally use an HTTP proxy to connect to Salesforce.</p>

 </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_ow1_lj3_xbb">
 <h2 class="title topictitle2">Lookup Mode</h2>

 <div class="body conbody">
        <p class="p">The Salesforce Lookup processor can use
            two modes to look up Salesforce data. Select one of the following modes:</p>

        <div class="p">
            <dl class="dl">
                
                    <dt class="dt dlterm">Retrieve</dt>

                    <dd class="dd">In Retrieve mode, the Salesforce Lookup processor uses the specified Id
                        field to perform the lookup, making a single <a class="xref" href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_calls_retrieve.htm" target="_blank">retrieve() Salesforce API</a> call for
                        up to 2000 records at a time. If one or more of the IDs included in an API
                        call is invalid, Salesforce rejects the entire set of records. Then, the
                        Salesforce Lookup processor sends the records to error, using the configured
                        error handling for the stage. </dd>

                    <dd class="dd">You cannot access deleted records in Retrieve mode. </dd>

                    <dd class="dd">When using Retrieve mode, you specify the Id field to use for the lookup,
                        the Salesforce fields to return, and the object type to use. </dd>

                    <dd class="dd">The object must be retrievable in Salesforce, that is, the retrieveable
                        attribute for the object must be listed as "true". For example, you should
                        be able to retrieve data from User, but UserRecordAccess is currently not
                        retrievable. Note that this attribute can change with Salesforce releases. </dd>

                    <dd class="dd">Retrieve mode provides improved pipeline performance when the mode can be
                        used. Use SOQL Query mode when Retrieve mode cannot be used.</dd>

                
                
                    <dt class="dt dlterm">SOQL Query</dt>

                    <dd class="dd">In SOQL Query mode, the Salesforce Lookup processor makes an API call for
                        each record. The processor uses a <a class="xref" href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_calls_query.htm" target="_blank">query() API</a> call by default, and
                        uses a <a class="xref" href="https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_calls_queryall.htm" target="_blank">queryAll() API</a> call when including
                        deleted records in the results. </dd>

                    <dd class="dd">When using SOQL Query mode, you configure the SOQL query to use for the
                        lookup and whether to include deleted records in the results. </dd>

                    <dd class="dd">When you configure the query, use the following
                        format:<pre class="pre codeblock">SELECT &lt;field1 name&gt;, &lt;field2 name&gt; FROM &lt;object name&gt; WHERE &lt;field3 name&gt; &lt;operator&gt; &lt;expression&gt;</pre>
</dd>

                    <dd class="dd">For example, to use the account number field in the record to look up the
                        account name field in the Salesforce Account object, use the following
                        query:<pre class="pre codeblock">SELECT Name FROM Account WHERE AccountNumber = '${record:value('/account_number')}'</pre>
If
                        you specify <samp class="ph codeph">SELECT * FROM &lt;object&gt;</samp> in the SOQL query,
                        the processor expands <samp class="ph codeph">*</samp> to all fields in the Salesforce
                        object that are accessible to the configured user. </dd>

                    <dd class="dd">Note that the processor adds components of compound fields to the query,
                        rather than adding the compound fields themselves. For example, the origin
                        adds BillingStreet, BillingCity, etc., rather than adding BillingAddress.
                        Similarly, it adds Location__Latitude__s and Location__Longitude__s rather
                        than Location__c.</dd>

                
            </dl>

        </div>

    </div>

</div>
<div class="topic concept nested1" id="concept_s1h_1mk_fy">
 <h2 class="title topictitle2">Lookup Cache</h2>

 <div class="body conbody">
  <p class="p">To improve pipeline performance, you can
            configure the Salesforce Lookup processor to locally cache the values returned from a
            Salesforce object.</p>

     <p class="p">The processor caches values until the cache reaches the
                  maximum size or the expiration time. When the first limit is reached, the
                  processor evicts values from the cache.</p>

     <div class="p">You can configure the following ways to evict values from
                  the cache:<dl class="dl">
                        
                              <dt class="dt dlterm">Size-based eviction</dt>

                              <dd class="dd">Configure the maximum number of values that the processor caches.
                                    When the maximum number is reached, the processor evicts the
                                    oldest values from the cache.</dd>

                        
                        
                              <dt class="dt dlterm">Time-based eviction</dt>

                              <dd class="dd">Configure the amount of time that a value can remain in the cache
                                    without being written to or accessed. When the expiration time
                                    is reached, the processor evicts the value from the cache. The
                                    eviction policy determines whether the processor measures the
                                    expiration time since the last write of the value or since the
                                    last access of the value.</dd>

                              <dd class="dd">For example, you set the eviction policy to expire after the last
                                    access and set the expiration time to 60 seconds. After the
                                    processor does not access a value for 60 seconds, the processor
                                    evicts the value from the cache.</dd>

                        
                  </dl>
</div>

     <p class="p">When you stop the pipeline, the processor clears the
                  cache.</p>

 </div>

</div>
<div class="topic concept nested1" id="concept_nl4_3q2_kz">
 <h2 class="title topictitle2">Salesforce Attributes</h2>

 
 <div class="body conbody"><p class="shortdesc">The Salesforce Lookup processor generates Salesforce field attributes that provide
        additional information about each field. The origin receives these details from
        Salesforce.</p>

  <p class="p">Salesforce attributes include a user-defined prefix to
            differentiate the Salesforce attributes from other attributes. By default, the prefix is
            "salesforce.". You can change the prefix that the processor uses and you can configure
            the processor not to create Salesforce attributes.</p>

        <p class="p">You can use the <samp class="ph codeph">record:fieldAttribute</samp> or
                <samp class="ph codeph">record:fieldAttributeOrDefault</samp> functions to access the information
            in the attribute. </p>

        <p class="p">The Salesforce Lookup processor can provide the following Salesforce field
            attributes:</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_nl4_3q2_kz__table_onw_wr2_kz" class="table" frame="border" border="1" rules="all">
    
    
    <thead class="thead" align="left">
     <tr>
      <th class="entry" valign="top" width="30%" id="d470730e259">Salesforce Field Attribute</th>

      <th class="entry" valign="top" width="70%" id="d470730e262">Description</th>

     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e259 ">&lt;Salesforce prefix&gt;salesforceType</td>

      <td class="entry" id="concept_nl4_3q2_kz__d81169e4073" valign="top" width="70%" headers="d470730e262 ">Provides the original Salesforce data type for the field.</td>

     </tr>

     <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e259 ">&lt;Salesforce prefix&gt;length</td>

      <td class="entry" id="concept_nl4_3q2_kz__d81169e4082" valign="top" width="70%" headers="d470730e262 ">Provides the original length for all string and textarea
       fields. </td>

     </tr>

     <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e259 ">&lt;Salesforce prefix&gt;precision</td>

      <td class="entry" valign="top" width="70%" headers="d470730e262 ">Provides the original precision for all double fields. </td>

     </tr>

     <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e259 ">&lt;Salesforce prefix&gt;scale</td>

      <td class="entry" id="concept_nl4_3q2_kz__d81169e4100" valign="top" width="70%" headers="d470730e262 ">Provides the original scale for all double fields. </td>

     </tr>

     <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e259 ">&lt;Salesforce prefix&gt;digits</td>

      <td class="entry" valign="top" width="70%" headers="d470730e262 ">Provides the maximum number of digits for all integer fields.</td>

     </tr>

    </tbody>

   </table>
</div>

        <p class="p">For more information about field attributes, see <a class="xref" href="../Pipeline_Design/FieldAttributes.html#concept_xfm_wtp_1z" title="Field attributes are attributes that provide additional information about each field that you can use in pipeline logic, as needed.">Field Attributes</a>.</p>

 </div>

</div>
<div class="topic task nested1" id="task_rjz_lck_fy">
    <h2 class="title topictitle2">Changing the API Version</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p"><span class="ph">Data
                  Collector</span> ships with version <span class="ph">39.0</span> of the Salesforce Web Services Connector libraries. You can use a different
                Salesforce API version if you need to access functionality not present in version
                    <span class="ph">39.0</span>.</p>

        </div>

        <ol class="ol steps" id="task_rjz_lck_fy__steps_imt_zck_dy"><li class="li step stepexpand">
                <span class="ph cmd">On the <span class="ph uicontrol">Salesforce</span> tab, set the <span class="ph uicontrol">API
                        Version</span> property to the version that you want to use, for
                    example 36.0.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Download the relevant version of the following JAR files from Salesforce Web
                    Services Connector (WSC):</span>
                <ul class="ul choices" id="task_rjz_lck_fy__d86901e48">
                    <li class="li choice">
                        <p class="p">WSC JAR file - force-wsc-&lt;version&gt;.0.0.jar </p>

                    </li>

                    <li class="li choice">
                        <p class="p">Partner API JAR file - force-partner-api-&lt;version&gt;.0.0.jar</p>

                    </li>

                </ul>

                <div class="itemgroup info">
                    <p class="p">Where &lt;version&gt; is the API version number, for example, 36.</p>
 
                    <p class="p">For information about downloading libraries from Salesforce WSC, see <a class="xref" href="https://developer.salesforce.com/page/Introduction_to_the_Force.com_Web_Services_Connector" target="_blank">https://developer.salesforce.com/page/Introduction_to_the_Force.com_Web_Services_Connector</a>.</p>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the following <span class="ph">Data
                  Collector</span> directory,
                    replace the default force-wsc-39.0.0.jar and force-partner-api-39.0.0.jar files
                    with the versioned JAR files that you downloaded:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">$SDC_DIST/streamsets-libs/streamsets-datacollector-salesforce-lib/lib/</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Restart <span class="ph">Data
                  Collector</span>
                    for the changes to take effect.</span>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested1" id="task_fhn_yrk_yx">
    <h2 class="title topictitle2">Configuring a Salesforce Lookup</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p">Configure a Salesforce Lookup
                processor to perform lookups in a Salesforce object. </p>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, on the <span class="keyword wintitle">General</span> tab, configure the
                    following properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_fhn_yrk_yx__d81047e4987" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr>
                                    <th class="entry" valign="top" width="30%" id="d470730e475">General Property</th>

                                    <th class="entry" valign="top" width="70%" id="d470730e478">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e475 ">Name</td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e478 ">Stage name.</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e475 ">Description</td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e478 ">Optional description.</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e475 ">Required Fields <a class="xref" href="../Pipeline_Design/DroppingUnwantedRecords.html#concept_dnj_bkm_vq">
                                            <img class="image" id="task_fhn_yrk_yx__d81047e5033" src="../Reusable_Content/../Graphics/icon_moreInfo.png" height="12" width="12" /></a></td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e478 ">Fields that must include data for the record to be passed
                                        into the stage. <div class="note tip"><span class="tiptitle">Tip:</span> You might
                                            include fields that the stage uses.</div>
<p class="p">Records
                                            that do not include all required fields are processed
                                            based on the error handling configured for the
                                            pipeline.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e475 ">Preconditions <a class="xref" href="../Pipeline_Design/DroppingUnwantedRecords.html#concept_msl_yd4_fs">
                                            <img class="image" id="task_fhn_yrk_yx__d81047e5049" src="../Reusable_Content/../Graphics/icon_moreInfo.png" height="12" width="12" /></a></td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e478 ">Conditions that must evaluate to TRUE to allow a record
                                        to enter the stage for processing. Click
                                            <span class="ph uicontrol">Add</span> to create additional
                                        preconditions. <p class="p">Records that do not meet all preconditions
                                            are processed based on the error handling configured for
                                            the stage.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e475 ">On Record Error <a class="xref" href="../Pipeline_Design/ErrorHandling.html#concept_atr_j4y_5r">
                                            <img class="image" id="task_fhn_yrk_yx__d81047e5066" src="../Reusable_Content/../Graphics/icon_moreInfo.png" height="12" width="12" /></a></td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e478 ">Error record handling for the stage: <ul class="ul" id="task_fhn_yrk_yx__d81047e5070">
                                            <li class="li">Discard - Discards the record.</li>

                                            <li class="li">Send to Error - Sends the record to the pipeline for
                                                error handling.</li>

                                            <li class="li">Stop Pipeline - Stops the pipeline. Not valid for
                                                cluster pipelines.</li>

                                        </ul>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">Salesforce</span> tab, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_fhn_yrk_yx__table_cr5_fpk_fy" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr>
                                    <th class="entry" valign="top" width="30%" id="d470730e589">Salesforce Property</th>

                                    <th class="entry" valign="top" width="70%" id="d470730e592">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e589 ">Username</td>

      <td class="entry" valign="top" width="70%" headers="d470730e592 ">Salesforce username in the following email format:
        <samp class="ph codeph">&lt;text&gt;@&lt;text&gt;.com</samp>. </td>

     </tr>

                                <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e589 ">Password</td>

      <td class="entry" valign="top" width="70%" headers="d470730e592 ">Salesforce password. <div class="note tip"><span class="tiptitle">Tip:</span> To secure sensitive information such as
                  usernames and passwords, you can use <a class="xref" href="../Pipeline_Configuration/RuntimeValues.html#concept_bs4_5nm_2s" title="Similar to runtime properties, runtime resources are values that you define in a file local to the Data Collector and call from within a pipeline. But with runtime resources, you can restrict the permissions for the files to secure sensitive information. Use runtime resources to load sensitive information from files at runtime.">runtime resources</a> or <span class="ph"><a class="xref" href="../Configuration/CredentialStores.html#concept_bt1_bpj_r1b" title="Data Collector pipeline stages communicate with external systems to read and write data. Many of these external systems require credentials - user names or passwords - to access the data. When you configure pipeline stages for these external systems, you define the credentials that the stage uses to connect to the system.">credential stores.</a></span></div>
</td>

     </tr>

                                <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e589 ">Auth Endpoint</td>

      <td class="entry" valign="top" width="70%" headers="d470730e592 ">Salesforce SOAP API authentication endpoint. Enter one of the following values:<ul class="ul" id="task_fhn_yrk_yx__d81169e3528">
        <li class="li">login.salesforce.com - Use to connect to a Production or Developer Edition
         organization.</li>

        <li class="li">test.salesforce.com - Use to connect to a sandbox organization.</li>

       </ul>
<p class="p">Default is login.salesforce.com.</p>
</td>

     </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e589 ">API Version
                                        <a class="xref" href="SalesforceLookup.html#task_rjz_lck_fy">
                                            <img class="image" id="task_fhn_yrk_yx__image_whh_bch_er" src="../Graphics/icon_moreInfo.png" height="12" width="12" /></a></td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e592 ">Salesforce API version to use to connect to Salesforce.
        <p class="p">Default is <span class="ph">39.0</span>. If you change the version, you also must download the relevant JAR files from Salesforce
        Web Services Connector (WSC).</p>
</td>

                                    
                                </tr>

                         
                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">Lookup</span> tab, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_fhn_yrk_yx__table_qxc_4qd_ybb" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr>
                                    <th class="entry" valign="top" width="30%" id="d470730e705">Lookup Property</th>

                                    <th class="entry" valign="top" width="70%" id="d470730e708">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e705 ">Lookup Mode <a class="xref" href="SalesforceLookup.html#concept_ow1_lj3_xbb">
                                            <img class="image" id="task_fhn_yrk_yx__image_apf_y2k_ybb" src="../Graphics/icon_moreInfo.png" height="12" width="12" /></a></td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e708 ">Lookup mode to use: <ul class="ul" id="task_fhn_yrk_yx__ul_oyv_rqd_ybb">
                                            <li class="li">Retrieve - Use to perform a lookup for up to 2000
                                                records at a time from the specified object, based
                                                on the specified Id field. Use when possible to
                                                improve pipeline performance. </li>

                                            <li class="li">SOQL Query - Use to perform a record-by-record
                                                lookup based on a specified query. Can retrieve
                                                deleted records and access data in related
                                                objects.</li>

                                        </ul>
<p class="p">Default is SOQL Query.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e705 ">SOQL Query</td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e708 ">SOQL query to use to look up data in Salesforce. Use the
                                        following syntax for the
                                            query:<pre class="pre codeblock">SELECT &lt;field1 name&gt;, &lt;field2 name&gt; FROM &lt;object name&gt; WHERE &lt;field3 name&gt; &lt;operator&gt; &lt;expression&gt;</pre>
<p class="p">For
                                            more information, see <a class="xref" href="SalesforceLookup.html#concept_ow1_lj3_xbb">Lookup Mode</a>.</p>
<p class="p">For SOQL Query mode only.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e705 ">Include Deleted Records</td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e708 "><span class="ph">Determines whether the SOQL query also retrieves deleted
        records from the Salesforce recycle bin.</span><p class="p"><span class="ph">The query can
         retrieve deleted records when the stage uses the Salesforce SOAP API or the Bulk API
         version 39.0 or later. Earlier versions of the Bulk API do not support retrieving deleted
         records.</span></p>
<p class="p">For SOQL Query mode only.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e705 ">Id Field</td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e708 ">Field in the record containing the Salesforce record ID
                                        to use for the lookup. <p class="p">For Retrieve mode
                                        only.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e705 ">Salesforce Fields</td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e708 ">A comma-separated list of Salesforce fields to return.
                                            <p class="p">For Retrieve mode only.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e705 ">Object Type</td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e708 ">The object type to use for the lookup. The object type
                                        must be considered retrieveable by Salesforce. <p class="p">For
                                            Retrieve mode only.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e705 ">Field Mappings</td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e708 ">Use to override the default field mappings. By default,
                                        Salesforce fields are written to <span class="ph">Data
                  Collector</span> fields of the same name. <div class="p">Enter the following:<ul class="ul" id="task_fhn_yrk_yx__ul_apq_dsd_ybb">
                                                <li class="li">Salesforce Field - Name of the Salesforce field
                                                  that contains the lookup value. Enter a field name
                                                  or enter an expression that defines the field
                                                  name.</li>

                                                <li class="li">SDC Field - Name of the field in the record that
                                                  receives the lookup value. You can specify an
                                                  existing field or a new field. If the field does
                                                  not exist, Salesforce Lookup creates the field. </li>

                                                <li class="li">Default Value - Optional default value to use
                                                  when the query does not return a value for the
                                                  field. If the query returns no value and this
                                                  property is not defined, the processor sends the
                                                  record to error.</li>

                                                <li class="li">Data Type - Data type to use for SDC Field.
                                                  Required when you specify a default value. The
                                                  processor uses the Salesforce data type by
                                                  default. </li>

                                            </ul>
</div>
<p class="p">Using <a class="xref" href="../Pipeline_Configuration/SimpleBulkEdit.html#concept_alb_b3y_cbb">simple or bulk edit mode</a>, click the
                                                <span class="ph uicontrol">Add</span> icon to create additional
                                            field mappings.</p>
</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="30%" headers="d470730e705 ">Enable Local Caching
                                        <a class="xref" href="SalesforceLookup.html#concept_s1h_1mk_fy">
                                            <img class="image" id="task_fhn_yrk_yx__image_h5p_p3v_uh" src="../Graphics/icon_moreInfo.png" height="12" width="12" /></a></td>

                                    <td class="entry" valign="top" width="70%" headers="d470730e708 ">Specifies whether to locally cache the returned
       values.</td>

                                </tr>

                                <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e705 ">Maximum Entries to Cache</td>

      <td class="entry" valign="top" width="70%" headers="d470730e708 ">Maximum number of values to cache. When the maximum number is reached, the processor
       evicts the oldest values from the cache. <p class="p">Default is -1, which means unlimited.</p>
</td>

     </tr>

                                <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e705 ">Eviction Policy Type</td>

      <td class="entry" valign="top" width="70%" headers="d470730e708 ">Policy used to evict values from the local cache when the expiration time has
        passed:<ul class="ul" id="task_fhn_yrk_yx__d81169e3016">
        <li class="li">Expire After Last Access - Measures the expiration time since the value was last
         accessed by a read or a write.</li>

        <li class="li">Expire After Last Write - Measures the expiration time since the value was created, or
         since the value was last replaced.</li>

       </ul>
</td>

     </tr>

                                <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e705 ">Expiration Time</td>

      <td class="entry" valign="top" width="70%" headers="d470730e708 ">Amount of time that a value can remain in the local cache without being accessed or
       written to. <p class="p">Default is 1 second.</p>
</td>

     </tr>

                                <tr>
      <td class="entry" valign="top" width="30%" headers="d470730e705 ">Time Unit</td>

      <td class="entry" valign="top" width="70%" headers="d470730e708 ">Unit of time for the expiration time. <p class="p">Default is seconds.</p>
</td>

     </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">Advanced</span> tab, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_fhn_yrk_yx__table_qgc_5l2_kz" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr>
                                    <th class="entry" valign="top" width="33.33333333333333%" id="d470730e934">Advanced Property</th>

                                    <th class="entry" valign="top" width="66.66666666666666%" id="d470730e937">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr>
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d470730e934 ">Create Salesforce Attributes <a class="xref" href="SalesforceLookup.html#concept_nl4_3q2_kz" title="The Salesforce Lookup processor generates Salesforce field attributes that provide additional information about each field. The origin receives these details from Salesforce.">
                                            <img class="image" id="task_fhn_yrk_yx__image_wsg_gwh_er" src="../Graphics/icon_moreInfo.png" height="12" width="12" /></a></td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d470730e937 ">Adds Salesforce field attributes to fields. The origin
                                        creates Salesforce attributes by default. </td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d470730e934 ">Salesforce Attribute Prefix</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d470730e937 ">Prefix for Salesforce attributes.</td>

                                </tr>

                                <tr>
      <td class="entry" valign="top" width="33.33333333333333%" headers="d470730e934 ">Use Proxy</td>

      <td class="entry" valign="top" width="66.66666666666666%" headers="d470730e937 ">Specifies whether to use an HTTP proxy to connect to Salesforce.</td>

     </tr>
<tr>
      <td class="entry" valign="top" width="33.33333333333333%" headers="d470730e934 ">Proxy Hostname</td>

      <td class="entry" valign="top" width="66.66666666666666%" headers="d470730e937 ">Proxy host.</td>

     </tr>
<tr>
      <td class="entry" valign="top" width="33.33333333333333%" headers="d470730e934 ">Proxy Port</td>

      <td class="entry" valign="top" width="66.66666666666666%" headers="d470730e937 ">Proxy port.</td>

     </tr>
<tr>
      <td class="entry" valign="top" width="33.33333333333333%" headers="d470730e934 ">Proxy Requires Credentials</td>

      <td class="entry" valign="top" width="66.66666666666666%" headers="d470730e937 ">Specifies whether the proxy requires a user name and password.</td>

     </tr>
<tr>
      <td class="entry" valign="top" width="33.33333333333333%" headers="d470730e934 ">Proxy Username</td>

      <td class="entry" valign="top" width="66.66666666666666%" headers="d470730e937 ">User name for proxy credentials.</td>

     </tr>
<tr>
      <td class="entry" valign="top" width="33.33333333333333%" headers="d470730e934 ">Proxy Password</td>

      <td class="entry" valign="top" width="66.66666666666666%" headers="d470730e937 ">Password for proxy credentials.<div class="note tip"><span class="tiptitle">Tip:</span> To secure sensitive information such as
                  usernames and passwords, you can use <a class="xref" href="../Pipeline_Configuration/RuntimeValues.html#concept_bs4_5nm_2s" title="Similar to runtime properties, runtime resources are values that you define in a file local to the Data Collector and call from within a pipeline. But with runtime resources, you can restrict the permissions for the files to secure sensitive information. Use runtime resources to load sensitive information from files at runtime.">runtime resources</a> or <span class="ph"><a class="xref" href="../Configuration/CredentialStores.html#concept_bt1_bpj_r1b" title="Data Collector pipeline stages communicate with external systems to read and write data. Many of these external systems require credentials - user names or passwords - to access the data. When you configure pipeline stages for these external systems, you define the credentials that the stage uses to connect to the system.">credential stores.</a></span></div>
</td>

     </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
</ol>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Processors/Processors_title.html" title="Processors"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Processors</span></a></span>  </div><div class="footer" id="webhelp_copyright_information"><!--

    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

--><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script></div>
</body>
</html>

<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="The Jython Evaluator processes data based on custom Jython code. Use the Jython Evaluator to incorporate custom Jython code in a pipeline. The Jython Evaluator supports Jython version 2.7. The Jython ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="Jython Evaluator"></meta><meta name="abstract" content="The Jython Evaluator processes data based on custom Jython code. Use the Jython Evaluator to incorporate custom Jython code in a pipeline. The Jython Evaluator supports Jython version 2.7."></meta><meta name="description" content="The Jython Evaluator processes data based on custom Jython code. Use the Jython Evaluator to incorporate custom Jython code in a pipeline. The Jython Evaluator supports Jython version 2.7."></meta><meta name="DC.Relation" scheme="URI" content="../Processors/Processors_title.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_a1h_lkf_lr"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Jython Evaluator</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../Processors/Processors_title.html" title="Processors">Processors</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../Processors/Processors_title.html" title="Processors"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Processors</span></a></span>  </div></td></tr></tbody></table>
<div class="nested0" id="concept_a1h_lkf_lr">
 <h1 class="title topictitle1">Jython Evaluator</h1>

 
 <div class="body conbody"><p class="shortdesc">The Jython Evaluator processes data based on custom Jython code. Use the Jython
  Evaluator to incorporate custom Jython code in a pipeline. The Jython Evaluator supports Jython
  version 2.7.</p>

  <p class="p">The Jython Evaluator can process data one record at a time or
   one batch at a time. </p>

  <p class="p">When you use a Jython Evaluator in a pipeline, the <span class="ph">Data
                  Collector</span> passes a batch
   of data to the processor and converts the data to an expected format for processing. </p>

 </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_j1t_ntc_pr">
 <h2 class="title topictitle2">Processing Mode</h2>

  
 <div class="body conbody"><p class="shortdesc">You can choose the processing mode to use with the Jython Evaluator. You can use the
    same script in each processing mode. However, you should include error handling in the script
    before you run in batch mode.</p>

    <div class="p">The Jython Evaluator provides the following processing modes:<dl class="dl">
        
          <dt class="dt dlterm">Record by Record</dt>

          <dd class="dd">The processor calls the script for each record. The processor passes the record to the
            script as a map and processes each record individually. </dd>

          <dd class="dd">The script does not require error handling logic. Error records are passed to the
            processor for error handling. The processor handles error records based on the On Record
            Error property.</dd>

          <dd class="dd">Use this mode to avoid including error handling logic in the code. Since this mode
            calls the script for each record, pipeline performance might be negatively affected. </dd>

        
        
          <dt class="dt dlterm">Record Batch</dt>

          <dd class="dd">The processor calls the script for each batch. The processor passes the batch to the
            script as a list and processes the batch at one time. </dd>

          <dd class="dd">Include error handling logic in the script. Without error handling logic, a single
            error records sends the entire batch to the processor for error handling. The processor
            handles error records based on the On Record Error property.</dd>

          <dd class="dd">Use this mode to improve performance by processing a batch of data at a time.</dd>

        
      </dl>
</div>

 </div>

</div>
<div class="topic concept nested1" id="concept_mqn_5vk_sr">
 <h2 class="title topictitle2">Jython Scripting Objects</h2>

 <div class="body conbody">
  <div class="p">You can use the following scripting objects in the Jython Evaluator:<dl class="dl">
        
          <dt class="dt dlterm">records array</dt>

          <dd class="dd">An array of records to process. The records object should include different elements
            based on the processing mode that you use:<ul class="ul" id="concept_mqn_5vk_sr__ul_fdm_5yk_sr">
              <li class="li">Record by Record - The records array should include one record element.</li>

              <li class="li">Batch by Batch - The records array should include all records in the batch.</li>

            </ul>
</dd>

        
        
          <dt class="dt dlterm">record</dt>

          <dd class="dd">An object that represents a single record. Includes a single value element. The value
            element contains the data for the record. </dd>

          <dd class="dd">Map and list record fields are mapped to to Jython lists and dictionaries,
            respectively.</dd>

        
        
          <dt class="dt dlterm">out</dt>

          <dd class="dd">An object that writes the record to the output batch. Includes a write(records)
            element.</dd>

        
        
          <dt class="dt dlterm">err</dt>

          <dd class="dd">An object that passes error records to the processor for error handling. Includes a
            write(records) element with an error message parameter.</dd>

        
      </dl>
</div>

 </div>

</div>
<div class="topic concept nested1" id="concept_szj_slw_tr">
 <h2 class="title topictitle2">Type Handling</h2>

 
 <div class="body conbody"><p class="shortdesc">Though Jython does not use type information when processing data, passing data to the
  rest of the pipeline requires data types. Note the following type information before you configure
  the remainder of the pipeline: </p>

  <div class="p">
   <dl class="dl">
    
     <dt class="dt dlterm">Null values convert to String</dt>

     <dd class="dd">Regardless of the original data type of a field, when a null value is processed by the
      Jython Evaluator it returns to the pipeline as a String. Because Jython does not associate
      nulls with a data type, the processor uses String. </dd>

     <dd class="dd">To avoid type errors in downstream processing, you might use a Type Converter to ensure
      that the necessary fields have data of the appropriate type. </dd>

    
   </dl>

   <dl class="dl">
    
     <dt class="dt dlterm">Non-null values that are not modified in the processor retain their original type</dt>

     <dd class="dd"></dd>

    
    
     <dt class="dt dlterm">Numeric data that is modified becames a Double, other types of data retain their original
      type.</dt>

     <dd class="dd">.</dd>

    
   </dl>

  </div>

 </div>

</div>
<div class="topic task nested1" id="task_fty_jwx_nr">
    <h2 class="title topictitle2">Configuring a Jython Evaluator</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p">Configure a
                Jython Evaluator to use custom Jython code in a pipeline.</p>

        </div>

        <ol class="ol steps" id="task_fty_jwx_nr__steps_q2n_hxx_nr"><li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, on the <span class="keyword wintitle">General</span> tab, configure the
                    following properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_fty_jwx_nr__d2242e246" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="24.509803921568626%" id="d24902e270">General Property</th>

                                    <th class="entry" valign="top" width="75.49019607843137%" id="d24902e273">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="24.509803921568626%" headers="d24902e270 ">Name</td>

                                    <td class="entry" valign="top" width="75.49019607843137%" headers="d24902e273 ">Stage name.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="24.509803921568626%" headers="d24902e270 ">Description</td>

                                    <td class="entry" valign="top" width="75.49019607843137%" headers="d24902e273 ">Optional description.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="24.509803921568626%" headers="d24902e270 ">Required Fields <a class="xref" href="../Pipeline_Configuration/PipelineDesign.html#concept_dnj_bkm_vq" title="You can configure required fields for any processor and most destination stages. A required field must exist in a record to allow the record to enter the stage for processing. When a record does not include a required field, the stage passes the record to the pipeline for error handling.">
                                            <img class="image" id="task_fty_jwx_nr__d2242e292" src="../Reusable_Content/../Graphics/icon_moreInfo.png" height="12" width="12"></img></a></td>

                                    <td class="entry" valign="top" width="75.49019607843137%" headers="d24902e273 ">Fields that must include data to be passed to the stage.
                                            <div class="note tip"><span class="tiptitle">Tip:</span> You might include fields
                                            that the stage uses.</div>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="24.509803921568626%" headers="d24902e270 ">On Record Error</td>

                                    <td class="entry" valign="top" width="75.49019607843137%" headers="d24902e273 ">Error record handling for the stage: <ul class="ul" id="task_fty_jwx_nr__d2242e307">
                                            <li class="li">Discard - Discards the record.</li>

                                            <li class="li">Send to Error - Sends the record to the pipeline for
                                                error handling.</li>

                                            <li class="li">Stop Pipeline - Stops the pipeline. </li>

                                        </ul>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">Jython</span> tab, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_fty_jwx_nr__table_wvy_4xx_nr" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="25.97402597402597%" id="d24902e363">Jython Property</th>

                                    <th class="entry" valign="top" width="74.02597402597402%" id="d24902e366">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="25.97402597402597%" headers="d24902e363 ">Record Processing Mode</td>

                                    <td class="entry" valign="top" width="74.02597402597402%" headers="d24902e366 ">Determines how the Jython Evaluator processes data:<ul class="ul" id="task_fty_jwx_nr__ul_tzg_vzx_nr">
                                            <li class="li">Record by Record - Processes records individually.
                                                Performs error handling.</li>

                                            <li class="li">Record Batch - Processes records in batches.
                                                Requires error handling code in the script.</li>

                                        </ul>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="25.97402597402597%" headers="d24902e363 ">Script</td>

                                    <td class="entry" valign="top" width="74.02597402597402%" headers="d24902e366 ">Jython code to use in the processor.</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
</ol>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Processors/Processors_title.html" title="Processors"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Processors</span></a></span>  </div><div class="footer"><div> </div><!-- Â© <a href="http://creativecommons.org/licenses/by-nc/4.0/legalcode">CC BY-NC 4.0.</a> StreamSets, 2015. --></div>
</body>
</html>
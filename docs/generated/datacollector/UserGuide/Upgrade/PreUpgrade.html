
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en-us" lang="en-us">
    <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><link rel="shortcut icon" href="../../../oxygen-webhelp/template/images/favicon.png"><!----></link><link rel="icon" href="../../../oxygen-webhelp/template/images/favicon.png"><!----></link>        
      <meta name="copyright" content="(C) Copyright 2018" /><meta name="DC.rights.owner" content="(C) Copyright 2018" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Pre Upgrade Tasks" /><meta name="abstract" content="In some situations, you must complete tasks before you upgrade." /><meta name="description" content="In some situations, you must complete tasks before you upgrade." /><meta name="DC.Relation" scheme="URI" content="../../../datacollector/UserGuide/Upgrade/Upgrade_title.html" /><meta name="DC.Relation" scheme="URI" content="../../../datacollector/UserGuide/Upgrade/Upgrade.html#concept_a2n_3fk_5v" /><meta name="DC.Relation" scheme="URI" content="../../../datacollector/UserGuide/Upgrade/Tarball.html#concept_ryn_4fk_5v" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="prodname" content="Data Collector" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="version" content="1" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="release" content="0" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="modification" content="0 Beta 2" /><meta name="DC.Date.Created" content="2014-10-31" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_vyy_sfp_hz" /><title>Pre Upgrade Tasks</title><!--  Generated with Oxygen version 20.0-SNAPSHOT, build number 2018042310.  --><meta name="wh-path2root" content="../../../" /><meta name="wh-toc-id" content="concept_vyy_sfp_hz-d46e13941" />         
        
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- Latest compiled and minified Bootstrap CSS -->
        <link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css" />

        <!-- Bootstrap Optional theme -->
        <link rel="stylesheet" href="../../../oxygen-webhelp/lib/bootstrap/css/bootstrap-theme.min.css" />
        <link rel="stylesheet" href="../../../oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css" />

        <!-- Template default styles  -->
        <link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/app/topic-page.css?buildId=2018042310" />
        

        <script type="text/javascript" src="../../../oxygen-webhelp/lib/jquery/jquery-3.1.1.min.js"><!----></script>

        <script data-main="../../../oxygen-webhelp/app/topic-page.js" src="../../../oxygen-webhelp/lib/requirejs/require.js"></script>
        
        <!-- Skin resources -->
        <link rel="stylesheet" type="text/css" href="../../../oxygen-webhelp/template/light.css?buildId=2018042310" />
        <!-- EXM-36950 - Expand the args.hdf parameter here -->
        
        
    <link rel="stylesheet" type="text/css" href="../../../skin.css" /></head>

    <body class="wh_topic_page frmBody">
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
<nav class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="../../../index.html" class=" wh_logo hidden-xs "></a>
                    <div class=" wh_publication_title "><a href="../../../index.html"><span class="booktitle">  <span class="ph mainbooktitle"><span class="ph">Data Collector</span> User Guide</span>  </span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse">
                
                
                <div class=" wh_indexterms_link "><a href="../../../indexTerms.html" title="Index"><span>Index</span></a></div>
                
            </div>
        </div>
    </div>
</nav>

        <div class=" wh_search_input "><form id="searchForm" method="get" action="../../../search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" /><button type="submit" class="wh_search_button"><span>Search</span></button></div><script><!--
                                    $(document).ready(function () {
                                        $('#searchForm').submit(function (e) {
                                            if ($('.wh_search_textfield').val().length < 1) {
                                                e.preventDefault();
                                            }
                                        });
                                    });
                                --></script></form></div>
        
        <div class="container-fluid">
            <div class="row">

                <nav class="wh_tools hidden-print">
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol xmlns:html="http://www.w3.org/1999/xhtml" class="hidden-print"><li><span class="home"><a href="../../../index.html"><span>Home</span></a></span></li>
   <li><span class="topicref" data-id="concept_ejk_f1f_5v"><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/Upgrade_title.html">Upgrade</a></span></span></li>
   <li class="active"><span class="topicref" data-id="concept_vyy_sfp_hz"><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/PreUpgrade.html#concept_vyy_sfp_hz">Pre Upgrade Tasks</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">In some situations, you must complete tasks before you upgrade.</p>
               </span></span></span></li>
</ol></div>

                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links" class="navheader">
  
<span class="navprev"><a class="link" href="../../../datacollector/UserGuide/Upgrade/Upgrade.html#concept_a2n_3fk_5v" title="Upgrade"></a></span>  
<span class="navnext"><a class="link" href="../../../datacollector/UserGuide/Upgrade/Tarball.html#concept_ryn_4fk_5v" title="Upgrade an Installation from the Tarball"></a></span>  </span></div>
                        <button class="wh_hide_highlight" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" title="Collapse sections"></button>
                        <div class=" wh_print_link print "><a href="javascript:window.print();" title="Print this page"></a></div>
                    </div>
                </nav>
            </div>

            <div class="wh_content_area">
                <div class="row">
                    
                        <nav role="navigation" id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-3 hidden-xs navbar hidden-print">
                            <div class=" wh_publication_toc " data-tooltip-position="right"><ul>
   <li><span data-tocid="concept_htw_ghg_jq-d46e54" class="topicref" data-id="concept_htw_ghg_jq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Getting_Started/GettingStarted_Title.html#concept_htw_ghg_jq">Getting Started</a></span></span></li>
   <li><span data-tocid="concept_hz3_5fk_fy-d46e557" class="topicref" data-id="concept_hz3_5fk_fy" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/WhatsNew/WhatsNew_Title.html#concept_hz3_5fk_fy">What's New</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_l4q_flb_kr-d46e4414" class="topicref" data-id="concept_l4q_flb_kr" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Installation/Install_title.html">Installation</a></span></span></li>
   <li><span data-tocid="concept_ylh_yyz_ky-d46e6481" class="topicref" data-id="concept_ylh_yyz_ky" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Configuration/Config_title.html">Configuration</a></span></span></li>
   <li><span data-tocid="concept_ejk_f1f_5v-d46e13895" class="topicref" data-id="concept_ejk_f1f_5v" data-state="expanded"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/Upgrade_title.html">Upgrade</a></span></span><ul class="nav nav-list">
         <li><span data-tocid="concept_a2n_3fk_5v-d46e13917" class="topicref" data-id="concept_a2n_3fk_5v" data-state="leaf"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/Upgrade.html#concept_a2n_3fk_5v">Upgrade</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
                     </span></span></span></li>
         <li class="active"><span data-tocid="concept_vyy_sfp_hz-d46e13941" class="topicref" data-id="concept_vyy_sfp_hz" data-state="expanded"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/PreUpgrade.html#concept_vyy_sfp_hz">Pre Upgrade Tasks</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">In some situations, you must complete tasks before you upgrade.</p>
                     </span></span></span><ul class="nav nav-list">
               <li><span data-tocid="concept_zgm_vj2_mdb-d46e14007" class="topicref" data-id="concept_zgm_vj2_mdb" data-state="leaf"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/PreUpgrade.html#concept_zgm_vj2_mdb">Upgrade to Spark 2.1 or Later</a><span class="wh-tooltip">
                           
                           <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"><span class="ph">Data Collector</span>         version 3.3.0 introduces cluster streaming mode with support for Kafka security features         such as SSL/TLS
                              and Kerberos authentication using Spark 2.1 or later and Kafka 0.10.0.0 or         later.
                              
                           </p>
                           </span></span></span></li>
               <li><span data-tocid="concept_ip1_dgp_hz-d46e14034" class="topicref" data-id="concept_ip1_dgp_hz" data-state="leaf"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/PreUpgrade.html#concept_ip1_dgp_hz">Verify Installation Requirements</a></span></span></li>
               <li><span data-tocid="concept_vsr_jgp_hz-d46e14066" class="topicref" data-id="concept_vsr_jgp_hz" data-state="leaf"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/PreUpgrade.html#concept_vsr_jgp_hz">Migrate to Java 8</a><span class="wh-tooltip">
                           
                           <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"><span class="ph">Data Collector</span>         version 2.5.0.0 requires Java 8. If your previous <span class="ph">Data Collector</span>         version ran on Java 7, you must migrate to Java 8 before upgrading to the latest <span class="ph">Data Collector</span>         version.
                              
                           </p>
                           </span></span></span></li>
               <li><span data-tocid="concept_m3b_rnx_mz-d46e14119" class="topicref" data-id="concept_m3b_rnx_mz" data-state="leaf"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/PreUpgrade.html#concept_m3b_rnx_mz">Upgrade Cluster Streaming Pipelines</a><span class="wh-tooltip">
                           
                           <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">If you use cluster pipelines that run in cluster streaming mode and you are upgrading         from a version earlier than
                              2.3.0.0, you must upgrade to Data Collector version 2.3.0.0         before upgrading to the latest version.
                              
                           </p>
                           </span></span></span></li>
            </ul>
         </li>
         <li><span data-tocid="concept_ryn_4fk_5v-d46e14174" class="topicref" data-id="concept_ryn_4fk_5v" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/Tarball.html#concept_ryn_4fk_5v">Upgrade an Installation from the Tarball</a></span></span></li>
         <li><span data-tocid="concept_ws4_vq5_xv-d46e15027" class="topicref" data-id="concept_ws4_vq5_xv" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/RPM.html#concept_ws4_vq5_xv">Upgrade an Installation from the RPM Package</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">When you upgrade an installation from the RPM package, the new version uses the default         configuration, data, log,
                        and resource directories. If the previous version used the default         directories, the new version has access to the
                        files created in the previous         version.
                        
                     </p>
                     </span></span></span></li>
         <li><span data-tocid="concept_c45_chv_xv-d46e15623" class="topicref" data-id="concept_c45_chv_xv" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/CMUpgrade.html#concept_c45_chv_xv">Upgrade an Installation with Cloudera Manager</a></span></span></li>
         <li><span data-tocid="concept_zll_vn5_zw-d46e16125" class="topicref" data-id="concept_zll_vn5_zw" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/PostUpgrade.html#concept_zll_vn5_zw">Post Upgrade Tasks</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">In some situations, you must complete tasks within <span class="ph">Data Collector</span> or         your <span class="ph">Control Hub</span>         on-premises installation after you upgrade.
                        
                     </p>
                     </span></span></span></li>
         <li><span data-tocid="task_ijh_wtw_xy-d46e18316" class="topicref" data-id="task_ijh_wtw_xy" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/Upgrade-ExternalSystems.html#task_ijh_wtw_xy">Working with Upgraded External Systems</a><span class="wh-tooltip">
                     
                     <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc">When an external system is upgraded to a new version, you can continue to use         existing <span class="ph">Data Collector</span> pipelines that connected to the previous version of the external system. You simply         configure the pipelines to work
                        with the upgraded system.
                        
                     </p>
                     </span></span></span></li>
         <li><span data-tocid="concept_dgz_p45_gy-d46e18476" class="topicref" data-id="concept_dgz_p45_gy" data-state="leaf"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Upgrade/UpgradeTroubleshooting.html#concept_dgz_p45_gy">Troubleshooting an Upgrade</a></span></span></li>
      </ul>
   </li>
   <li><span data-tocid="concept_qsw_cjy_bt-d46e18499" class="topicref" data-id="concept_qsw_cjy_bt" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Pipeline_Design/PipelineDesign_title.html">Pipeline Concepts and Design</a></span></span></li>
   <li><span data-tocid="concept_qn1_wn4_kq-d46e20154" class="topicref" data-id="concept_qn1_wn4_kq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Pipeline_Configuration/PipelineConfiguration_title.html">Pipeline Configuration</a></span></span></li>
   <li><span data-tocid="concept_hdr_gyw_41b-d46e22651" class="topicref" data-id="concept_hdr_gyw_41b" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Data_Formats/DataFormats-Title.html">Data Formats</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_yjl_nc5_jq-d46e24466" class="topicref" data-id="concept_yjl_nc5_jq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Origins/Origins_title.html">Origins</a></span></span></li>
   <li><span data-tocid="concept_yjl_nc5_jq-d46e64169" class="topicref" data-id="concept_yjl_nc5_jq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Processors/Processors_title.html">Processors</a></span></span></li>
   <li><span data-tocid="concept_agj_cfj_br-d46e77391" class="topicref" data-id="concept_agj_cfj_br" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Destinations/Destinations-title.html">Destinations</a></span></span></li>
   <li><span data-tocid="concept_umc_1lk_fx-d46e92871" class="topicref" data-id="concept_umc_1lk_fx" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Executors/Executors-title.html">Executors</a></span></span></li>
   <li><span data-tocid="concept_ugp_kwf_xw-d46e98772" class="topicref" data-id="concept_ugp_kwf_xw" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/DPM/DPM_title.html">StreamSets Control Hub</a></span></span></li>
   <li><span data-tocid="concept_xxd_f5r_kx-d46e102096" class="topicref" data-id="concept_xxd_f5r_kx" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Event_Handling/EventFramework-Title.html#concept_xxd_f5r_kx">Dataflow Triggers</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_fjj_zcf_2w-d46e106011" class="topicref" data-id="concept_fjj_zcf_2w" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Hive_Drift_Solution/HiveDriftSolution_title.html#concept_fjj_zcf_2w">Drift Synchronization Solution for Hive</a></span></span></li>
   <li><span data-tocid="concept_kgt_pnr_4cb-d46e108837" class="topicref" data-id="concept_kgt_pnr_4cb" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/JDBC_DriftSolution/JDBC_DriftSyncSolution_title.html#concept_kgt_pnr_4cb">Drift Synchronization Solution for PostgreSQL</a></span></span></li>
   <li><span data-tocid="concept_wwq_gxc_py-d46e109636" class="topicref" data-id="concept_wwq_gxc_py" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Multithreaded_Pipelines/MultithreadedPipelines.html#concept_wwq_gxc_py">Multithreaded Pipelines</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_fyf_gkq_4bb-d46e110218" class="topicref" data-id="concept_fyf_gkq_4bb" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Edge_Mode/EdgePipelines_title.html">Edge Pipelines</a></span></span></li>
   <li><span data-tocid="concept_wr1_ktz_bt-d46e111818" class="topicref" data-id="concept_wr1_ktz_bt" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/RPC_Pipelines/SDC_RPCpipelines_title.html#concept_wr1_ktz_bt">SDC RPC Pipelines</a></span></span></li>
   <li><span data-tocid="concept_fpz_5r4_vs-d46e112299" class="topicref" data-id="concept_fpz_5r4_vs" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Cluster_Mode/ClusterPipelines_title.html">Cluster Pipelines</a></span></span></li>
   <li><span data-tocid="concept_jjk_23z_sq-d46e113641" class="topicref" data-id="concept_jjk_23z_sq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Data_Preview/DataPreview_Title.html#concept_jjk_23z_sq">Data Preview</a></span></span></li>
   <li><span data-tocid="concept_pgk_brx_rr-d46e114610" class="topicref" data-id="concept_pgk_brx_rr" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Alerts/RulesAlerts_title.html#concept_pgk_brx_rr">Rules and Alerts</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_asx_fdz_sq-d46e117238" class="topicref" data-id="concept_asx_fdz_sq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Pipeline_Monitoring/PipelineMonitoring_title.html#concept_asx_fdz_sq">Pipeline Monitoring</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_o3l_dtr_5q-d46e118495" class="topicref" data-id="concept_o3l_dtr_5q" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Pipeline_Maintenance/PipelineMaintenance_title.html#concept_o3l_dtr_5q">Pipeline Maintenance</a></span></span></li>
   <li><span data-tocid="concept_yms_ftm_sq-d46e120286" class="topicref" data-id="concept_yms_ftm_sq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Administration/Administration_title.html#concept_yms_ftm_sq">Administration</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_nls_w1r_ks-d46e124782" class="topicref" data-id="concept_nls_w1r_ks" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Tutorial/Tutorial-title.html">Tutorial</a></span></span></li>
   <li><span data-tocid="concept_sh3_frm_tq-d46e125996" class="topicref" data-id="concept_sh3_frm_tq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Troubleshooting/Troubleshooting_title.html#concept_sh3_frm_tq">Troubleshooting</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_xbx_rs1_tq-d46e129904" class="topicref" data-id="concept_xbx_rs1_tq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Glossary/Glossary_title.html#concept_xbx_rs1_tq">Glossary</a></span></span></li>
   <li><span data-tocid="concept_jn1_nzb_kv-d46e129959" class="topicref" data-id="concept_jn1_nzb_kv" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Apx-DataFormats/DataFormat_Title.html#concept_jn1_nzb_kv">Data Formats by Stage</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_pvm_yt3_wq-d46e130119" class="topicref" data-id="concept_pvm_yt3_wq" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Expression_Language/ExpressionLanguage_title.html">Expression Language</a></span></span></li>
   <li><span data-tocid="concept_vcj_1ws_js-d46e131600" class="topicref" data-id="concept_vcj_1ws_js" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Apx-RegEx/RegEx-Title.html#concept_vcj_1ws_js">Regular Expressions</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
   <li><span data-tocid="concept_chv_vmj_wr-d46e131822" class="topicref" data-id="concept_chv_vmj_wr" data-state="not-ready"><span class="wh-expand-btn"></span><span class="title"><a href="../../../datacollector/UserGuide/Apx-GrokPatterns/GrokPatterns_title.html#concept_chv_vmj_wr">Grok Patterns</a><span class="wh-tooltip">
               
               <p xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" xmlns:xhtml="http://www.w3.org/1999/xhtml" class="shortdesc"></p>
               </span></span></span></li>
</ul></div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12" id="wh_topic_body">
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1"><article class="nested0" aria-labelledby="ariaid-title1" id="concept_vyy_sfp_hz">
 <h1 class="title topictitle1" id="ariaid-title1">Pre Upgrade Tasks</h1>

 <p class="shortdesc">In some situations, you must complete tasks before you upgrade.</p>

<article class="topic concept nested1" aria-labelledby="ariaid-title2" id="concept_zgm_vj2_mdb">
    <h2 class="title topictitle2" id="ariaid-title2">Upgrade to Spark 2.1 or Later</h2>

    
    <div class="body conbody"><p class="shortdesc"><span class="ph">Data Collector</span>
        version 3.3.0 introduces cluster streaming mode with support for Kafka security features
        such as SSL/TLS and Kerberos authentication using Spark 2.1 or later and Kafka 0.10.0.0 or
        later.</p>

        <div class="p">However, this means that using Spark 1.x for cluster streaming mode, the Spark Evaluator
            processor, and the Spark executor was deprecated as of version 3.2.0.0. Support for
            Spark 1.x is removed in version 3.3.0. If you are using cluster streaming mode, the
            Spark Evaluator processor, or the Spark executor, you must upgrade to Spark 2.1 or
            later. In addition, if you are using cluster streaming mode for Kafka, you must also
            upgrade to Kafka 0.10.0.0 or later.<div class="note note"><span class="notetitle">Note:</span> You can continue to use Kafka 0.9.0.0 in
                standalone pipelines. Or you can continue to use an earlier version of <span class="ph">Data Collector</span>
                to use Kafka 0.9.0.0 in cluster pipelines until you can upgrade Kafka.</div>
</div>

        <div class="p">Since Spark 1.x is no longer supported and since Kafka 0.9.0.0 is no longer supported in
            cluster pipelines, the following stage libraries have changed:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_zgm_vj2_mdb__table_mgp_cy1_wdb" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:33.33333333333333%" /><col style="width:66.66666666666666%" /></colgroup><thead class="thead" style="text-align:left;">
                        <tr>
                            <th class="entry cellrowborder" id="d477543e135">Category</th>

                            <th class="entry cellrowborder" id="d477543e138">Stage Libraries</th>

                        </tr>

                    </thead>
<tbody class="tbody">
                        <tr>
                            <td class="entry cellrowborder" headers="d477543e135 ">New stage libraries</td>

                            <td class="entry cellrowborder" headers="d477543e138 ">The following new stage libraries include the Kafka Consumer
                                origin for cluster mode pipelines:<ul class="ul" id="concept_zgm_vj2_mdb__ul_qpl_2y1_wdb">
                                    <li class="li">streamsets-datacollector-cdh-spark_2_1-lib</li>

                                    <li class="li">streamsets-datacollector-cdh-spark_2_2-lib</li>

                                    <li class="li">streamsets-datacollector-cdh-spark_2_3-lib</li>

                                </ul>
</td>

                        </tr>

                        <tr>
                            <td class="entry cellrowborder" headers="d477543e135 ">Changed stage libraries</td>

                            <td class="entry cellrowborder" headers="d477543e138 ">The following stage library no longer includes the Kafka Consumer
                                origin for cluster mode pipelines:<ul class="ul" id="concept_zgm_vj2_mdb__ul_vzl_np2_wdb">
                                    <li class="li">streamsets-datacollector-hdp_2_4-lib</li>

                                </ul>
<div class="p">The following stage libraries were upgraded to use Spark
                                        2.1:<ul class="ul" id="concept_zgm_vj2_mdb__ul_h4p_wp2_wdb">
                                        <li class="li">streamsets-datacollector-hdp_2_6-lib</li>

                                        <li class="li">streamsets-datacollector-mapr_5_2-lib</li>

                                        <li class="li">streamsets-datacollector-mapr_6_0-mep4-lib</li>

                                    </ul>
</div>
</td>

                        </tr>

                        <tr>
                            <td class="entry cellrowborder" headers="d477543e135 ">Removed stage libraries</td>

                            <td class="entry cellrowborder" headers="d477543e138 ">The following stage libraries are removed:<ul class="ul" id="concept_zgm_vj2_mdb__ul_e1m_hy1_wdb">
                                    <li class="li">streamsets-datacollector-cdh_5_8-cluster-cdh_kafka_2_0-lib</li>

                                    <li class="li">streamsets-datacollector-cdh_5_9-cluster-cdh_kafka_2_0-lib </li>

                                    <li class="li">streamsets-datacollector-cdh_5_10-cluster-cdh_kafka_2_1-lib</li>

                                    <li class="li">streamsets-datacollector-cdh_5_11-cluster-cdh_kafka_2_1-lib</li>

                                    <li class="li">streamsets-datacollector-cdh_5_12-cluster-cdh_kafka_2_1-lib</li>

                                    <li class="li">streamsets-datacollector-cdh_5_13-cluster-cdh_kafka_2_1-lib</li>

                                    <li class="li">streamsets-datacollector-cdh_5_14-cluster-cdh_kafka_2_1-lib</li>

                                </ul>
<p class="p">During the upgrade process, these removed stage libraries
                                    are replaced with the new
                                    streamsets-datacollector-cdh-spark_2_1-lib stage
                                library.</p>
</td>

                        </tr>

                        <tr>
                            <td class="entry cellrowborder" headers="d477543e135 ">Removed legacy stage libraries</td>

                            <td class="entry cellrowborder" headers="d477543e138 ">The following legacy stage libraries are removed:<ul class="ul" id="concept_zgm_vj2_mdb__ul_cqy_3y1_wdb">
                                    <li class="li">streamsets-datacollector-cdh_5_4-cluster-cdh_kafka_1_2-lib</li>

                                    <li class="li">streamsets-datacollector-cdh_5_4-cluster-cdh_kafka_1_3-lib</li>

                                    <li class="li">streamsets-datacollector-cdh_5_5-cluster-cdh_kafka_1_3-lib</li>

                                    <li class="li">streamsets-datacollector-cdh_5_7-cluster-cdh_kafka_2_0-lib</li>

                                </ul>
</td>

                        </tr>

                        <tr>
                            <td class="entry cellrowborder" headers="d477543e135 ">Changed legacy stage libraries</td>

                            <td class="entry cellrowborder" headers="d477543e138 ">The following legacy stage libraries no longer include the Spark
                                Evaluator processor:<ul class="ul" id="concept_zgm_vj2_mdb__ul_hxx_jy1_wdb">
                                    <li class="li">streamsets-datacollector-cdh_5_4-lib</li>

                                    <li class="li">streamsets-datacollector-cdh_5_5-lib</li>

                                </ul>
</td>

                        </tr>

                    </tbody>
</table>
</div>
</div>

        <div class="p">To continue to use cluster streaming mode, you must upgrade to a newer Cloudera CDH or
            Hortonworks Hadoop distribution and to Kafka 0.10.0.0 or later. The major Hadoop
            distribution vendors provide a means for Spark 1.x and Spark 2.x to coexist on the same
            cluster, so you can use both versions in your clusters. <span class="ph">Data Collector</span>
            supports the following Spark 2.x versions for the Hadoop distribution vendors:<ul class="ul" id="concept_zgm_vj2_mdb__ul_iyg_dk2_mdb">
                <li class="li"><span class="ph uicontrol">Cloudera</span> - Cloudera Distribution of Spark 2.1 release 1
                    or later is supported. For more information, see <a class="xref" href="https://www.cloudera.com/documentation/spark2/latest/topics/spark2_requirements.html" target="_blank"><u class="ph u">Spark 2 Requirements</u></a>.</li>

                <li class="li"><span class="ph uicontrol">Hortonworks</span> - Hortonworks Data Platform (HDP) 2.6 or
                    later includes Spark 2.2.0. For more information, see the <a class="xref" href="https://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.6.4/bk_release-notes/content/comp_versions.html" target="_blank"><u class="ph u">HDP 2.6 Release Notes</u></a>.</li>

                <li class="li"><span class="ph uicontrol">MapR</span> - MapR with MapR Expansion Pack 3.0 or later is
                    supported. For more information, see <a class="xref" href="https://maprdocs.mapr.com/home/InteropMatrix/r_mep_support_core_version.html#reference_jqk_b2m_zz" target="_blank"><u class="ph u">MEP Support by MapR Core
                        Version</u></a>.</li>

            </ul>
</div>

        <p class="p">Then, you must configure upgraded pipelines to work with the upgraded system, as described
            in <a class="xref" href="Upgrade-ExternalSystems.html#task_ijh_wtw_xy" title="When an external system is upgraded to a new version, you can continue to use existing Data Collector pipelines that connected to the previous version of the external system. You simply configure the pipelines to work with the upgraded system.">Working with Upgraded External Systems</a>. </p>

        <div class="p">In addition to selecting the upgraded stage library version for each stage that connects
            to the upgraded CDH, HDP, or Kafka system, you might need to perform additional tasks
            for the following stages:<ul class="ul" id="concept_zgm_vj2_mdb__ul_dcz_nch_5db">
                <li class="li"><span class="ph uicontrol">Spark Evaluator processor</span> - If the Spark application was
                    previously built with Spark 2.0 or earlier, you must rebuild it with Spark 2.1.
                    Or if you used Scala to write the custom Spark class, and the application was
                    compiled with Scala 2.10, you must recompile it with Scala 2.11.</li>

                <li class="li"><span class="ph uicontrol">Spark executor</span> - If the Spark application was previously
                    built with Spark 2.0 or earlier, you must rebuild it with Spark 2.1 and Scala
                    2.11. </li>

            </ul>
</div>

    </div>

</article>
<article class="topic concept nested1" aria-labelledby="ariaid-title3" id="concept_ip1_dgp_hz">
 <h2 class="title topictitle2" id="ariaid-title3">Verify Installation Requirements</h2>

 <div class="body conbody">
  <p class="p">The minimum requirements for <span class="ph">Data Collector</span>
            can change with each version. Before you upgrade to a new <span class="ph">Data Collector</span>
            version, verify that the machine meets the latest minimum requirements as described in
                <a class="xref" href="../Installation/InstallationAndConfig.html#concept_vzg_n2p_kq" title="Install Data Collector on a machine that meets the following minimum requirements. To run pipelines in cluster execution mode, each node in the cluster must meet the minimum requirements.">Installation Requirements</a>.</p>

 </div>

</article>
<article class="topic concept nested1" aria-labelledby="ariaid-title4" id="concept_vsr_jgp_hz">
 <h2 class="title topictitle2" id="ariaid-title4">Migrate to Java 8</h2>

 
 <div class="body conbody"><p class="shortdesc"><span class="ph">Data Collector</span>
        version 2.5.0.0 requires Java 8. If your previous <span class="ph">Data Collector</span>
        version ran on Java 7, you must migrate to Java 8 before upgrading to the latest <span class="ph">Data Collector</span>
        version.</p>

        <p class="p">All services that use Data Collector JAR files also must run on Java 8. This means that
            your Hadoop cluster must run on Java 8 if you are using cluster pipelines, the Spark
            Executor, or the MapReduce Executor. </p>

        <p class="p">To migrate to Java 8, complete the following steps before upgrading to the latest <span class="ph">Data Collector</span>
            version:</p>

        <ol class="ol" id="concept_vsr_jgp_hz__ol_h33_fhp_hz">
            <li class="li">Shut down <span class="ph">Data Collector</span>.</li>

            <li class="li">Install Java 8 on the <span class="ph">Data Collector</span> machine.</li>

            <li class="li">If you customized Java configuration options in the SDC_JAVA7_OPTS environment
                variable and if those options are valid in Java 8, migrate those customizations to
                the SDC_JAVA8_OPTS environment variable.</li>

            <li class="li">Restart <span class="ph">Data Collector</span> and verify that it works as expected.</li>

            <li class="li">If any pipelines include the JavaScript Evaluator processor, open the pipelines and
                validate the scripts on Java 8. </li>

        </ol>

 </div>

</article>
<article class="topic concept nested1" aria-labelledby="ariaid-title5" id="concept_m3b_rnx_mz">
 <h2 class="title topictitle2" id="ariaid-title5">Upgrade Cluster Streaming Pipelines</h2>

 
 <div class="body conbody"><p class="shortdesc">If you use cluster pipelines that run in cluster streaming mode and you are upgrading
        from a version earlier than 2.3.0.0, you must upgrade to Data Collector version 2.3.0.0
        before upgrading to the latest version.</p>

        <div class="p">Prior to 2.3.0.0, <span class="ph">Data Collector</span>
            used the Spark checkpoint mechanism to recover cluster pipelines after a failure.
            Starting in version 2.3.0.0, Data Collector maintains the state of cluster pipelines
            without relying on Spark checkpoints. <div class="note warning"><span class="warningtitle">Warning:</span> If you upgrade from a version
                earlier than 2.3.0.0 directly to the latest version - without first upgrading to
                version 2.3.0.0 - cluster pipelines fail when starting.</div>
</div>

        <div class="p">Before you upgrade to the latest version, complete the following general tasks:<ol class="ol" id="concept_m3b_rnx_mz__ol_yjz_24x_mz">
                <li class="li">Upgrade to Data Collector version 2.3.0.0. For instructions, see <a class="xref" href="https://streamsets.com/documentation/datacollector/2.3.0.0/help/#Upgrade/Upgrade.html%23concept_a2n_3fk_5v" target="_blank">Upgrade to version 2.3.0.0</a>.</li>

                <li class="li">Start the upgraded Data Collector version 2.3.0.0 and run the cluster pipelines
                    so that they process some data.</li>

            </ol>
</div>

        <p class="p">After verifying that the upgrade to Data Collector version 2.3.0.0 was successful,
            upgrade to the latest version.</p>

 </div>

</article>
</article>
</article></main></div>
                        
                        
                        
                    </div>
                    
                </div>
            </div>
        </div> <nav class="navbar navbar-default wh_footer">
  <div class=" footer-container text-center ">
    <!-- Copyright 2018 StreamSets Inc. --><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script>
  </div>
</nav>

        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <script src="../../../oxygen-webhelp/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        Â© Apache License, Version 2.0.
    </body>
</html>

<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="When you upgrade a full or core installation from the tarball, you configure the new version to use a new configuration directory outside of the base Data Collector runtime directory. You then ..." /><meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="Upgrade an Installation from the Tarball" /><meta name="DC.Relation" scheme="URI" content="../Upgrade/Upgrade_title.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_ryn_4fk_5v" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Upgrade an Installation from the Tarball</title><!--  Generated with Oxygen version 18.1, build number 2016112217.  --><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css" /><link rel="stylesheet" type="text/css" href="../skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../index.html";
            
            --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script>
<!--
    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
</head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"><span class="topic_breadcrumb_link"><a class="navheader_parent_path" href="../Upgrade/Upgrade_title.html" title="Upgrade">Upgrade</a></span></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navparent"><a class="link" href="../Upgrade/Upgrade_title.html" title="Upgrade"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Upgrade</span></a></span>  </span></td></tr></tbody></table>
<div class="nested0" id="concept_ryn_4fk_5v">
 <h1 class="title topictitle1">Upgrade an Installation from the Tarball</h1>

 <div class="body conbody">
     <div class="p">When you upgrade a full or core
            installation from the tarball, you configure the new version to use a new configuration
            directory outside of the base <span class="ph">Data
                  Collector</span>
            runtime directory. You then configure the new version to use the same data, log, and
            resource directories as the previous version. As a result, the new version has access to
            the files created in the previous version.<div class="note note"><span class="notetitle">Note:</span> If you installed additional drivers or
                developed custom stages, verify that those libraries are stored in a local directory
                external to the <span class="ph">Data
                  Collector</span> runtime directory before you upgrade. That way, <span class="ph">Data
                  Collector</span> can still use the libraries after the upgrade.</div>
</div>

        <p class="p">To upgrade a full or core installation from the tarball, perform the following steps:</p>


            <p class="p"><a class="xref" href="Tarball.html#task_uzq_gwl_5v" title="Stop all pipelines and then shut down the previous version of Data Collector.">Step 1. Shut Down the Previous Version</a></p>

            <p class="p"><a class="xref" href="Tarball.html#concept_bwg_r1h_1z" title="Before you install the new version, create a backup of the files in the previous version by copying and renaming the configuration, data, and resource directories. That way, you can continue to run the previous version if needed.">Step 2. Back Up the Previous Version</a></p>

            <p class="p"><a class="xref" href="Tarball.html#concept_bfv_jyl_5v" title="The instructions that you use to install the new version depend on whether you start Data Collector manually or as a service and on your operating system.">Step 3. Install the New Version</a></p>

            <p class="p"><a class="xref" href="Tarball.html#task_wzl_hst_xv" title="Update the environment configuration file so that the new version of Data Collector uses a new configuration directory but the same working data, log, and resource directories as the previous version.">Step 4. Update the Environment Configuration File</a></p>

            <p class="p"><a class="xref" href="Tarball.html#task_orr_vcg_2y">Step 5. Update the Configuration Files</a></p>

            <p class="p"><a class="xref" href="Tarball.html#concept_zyd_ngr_5v" title="If you upgraded a core installation of Data Collector, install the individual stage libraries that the upgraded pipelines require. Use the Package Manager or the stagelibs command to install additional stage libraries.">Step 6. Install Additional Libraries for the Core Installation</a></p>

            <p class="p"><a class="xref" href="Tarball.html#concept_uct_wfr_5v" title="Start the new version of Data Collector.">Step 7. Start the New Version of Data Collector</a></p>

        
 </div>

<div class="related-links"></div>
<div class="topic task nested1" id="task_uzq_gwl_5v">
    <h2 class="title topictitle2">Step 1. Shut Down the Previous Version</h2>

    
    <div class="body taskbody"><p class="shortdesc">Stop all pipelines and then shut down the previous version of <span class="ph">Data
                  Collector</span>.</p>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">From the <span class="ph uicontrol">Home</span> page, select all running pipelines in the
                    list and then click the <span class="ph uicontrol">Stop</span> icon.</span>
                <div class="itemgroup info">When the confirmation dialog appears, click <span class="ph uicontrol">Yes</span>.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use one of the following methods to shut down <span class="ph">Data
                  Collector</span>:</span>
                <ul class="ul choices" id="task_uzq_gwl_5v__choices_hwp_k2c_rx">
                    <li class="li choice">To use the command line for shutdown when <span class="ph">Data
                  Collector</span> is started as a service, use the required command for your operating
                            system.<p class="p">For <span class="ph">CentOS 6, Red Hat Enterprise Linux 6, or Ubuntu 14.04
                  LTS</span>, use:
                        <samp class="ph codeph">service sdc stop</samp></p>
<p class="p">For <span class="ph">CentOS 7, Red Hat Enterprise Linux 7, or Ubuntu 16.04
                  LTS</span>, use:
                        <samp class="ph codeph">systemctl stop sdc</samp></p>
</li>

                    <li class="li choice">
                        <p class="p">To use the <span class="ph">Data
                  Collector</span> UI, click <span class="ph menucascade"><span class="ph uicontrol">Administration</span> &gt; <span class="ph uicontrol"> Shut Down</span></span>. When the confirmation dialog box appears, click
                        <span class="ph uicontrol">Yes</span>.</p>

                    </li>

                </ul>

            </li>
</ol>

    </div>

</div>
<div class="topic concept nested1" id="concept_bwg_r1h_1z">
    <h2 class="title topictitle2">Step 2. Back Up the Previous Version</h2>

    
    <div class="body conbody"><p class="shortdesc">Before you install the new version, create a backup of the files in the previous
        version by copying and renaming the configuration, data, and resource directories. That way,
        you can continue to run the previous version if needed.</p>

        <div class="p">Copy and rename the following directories:<ul class="ul" id="concept_bwg_r1h_1z__ul_d4f_t1h_1z">
                <li class="li">SDC_CONF - The <span class="ph">Data
                  Collector</span> configuration directory.</li>

                <li class="li">SDC_DATA - The <span class="ph">Data
                  Collector</span> directory for pipeline state and configuration information.</li>

                <li class="li">SDC_RESOURCES - The <span class="ph">Data
                  Collector</span> directory for runtime resource files.</li>

            </ul>
</div>

        <p class="p">For example, if you are upgrading version 2.7.0.0, copy the <span class="ph">Data
                  Collector</span>
            configuration directory and rename it as follows: <samp class="ph codeph">/etc/sdc2700</samp>.</p>

    </div>

    <div class="related-links"><div class="relinfo"><strong>Related information</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../Configuration/DCEnvironmentConfig.html#concept_rng_qym_qr" title="You can edit the Data Collector environment configuration file to modify the directories used to store configuration, data, log, and resource files.When you run Data Collector as a service, Data Collector runs as the system user account and group defined in environment variables. The default system user and group are named sdc.Increase or decrease the Data Collector Java heap size as necessary, based on the resources available on the host machine. By default, the Java heap size is 1024 MB. You can enable remote debugging to debug a Data Collector instance running on a remote machine. You can define the Java garbage collector that Data Collector uses. By default, Data Collector uses the Concurrent Mark Sweep (CMS) garbage collector.Data Collector includes a Java Security Manager that is enabled by default. You can edit the Data Collector environment configuration file to configure the path to JAR files to be added to the Data Collector root classloader.">Data Collector Environment Configuration</a></div>
</div>
</div>
</div>
<div class="topic concept nested1" id="concept_bfv_jyl_5v">
 <h2 class="title topictitle2">Step 3. Install the New Version</h2>

 <p class="shortdesc">The instructions that you use to install the new version depend on whether you start <span class="ph">Data
                  Collector</span>
        manually or as a service and on your operating system.</p>

<div class="topic task nested2" id="task_lxz_qyl_5v">
    <h3 class="title topictitle3">Installing from the Tarball (Manual Start)</h3>

    
    <div class="body taskbody"><p class="shortdesc">Install the new version of the tarball.</p>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Use the following URL to download the full or core <span class="ph">Data
                  Collector</span> tarball from the StreamSets website: <a class="xref" href="https://streamsets.com/opensource" target="_blank">https://streamsets.com/opensource</a>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Extract the tarball to a different directory than the previous version.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the following command to set the <samp class="ph codeph">$SDC_DIST</samp> environment
                    variable to the location where you extracted the tarball:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">export SDC_DIST=&lt;extraction directory&gt;</pre>

                    <div class="p">For
                        example:<pre class="pre codeblock">export SDC_DIST=/sdc/streamsets-datacollector-<span class="ph">3.0.0.0</span></pre>
</div>

                </div>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested2" id="task_hsl_ccm_5v">
    <h3 class="title topictitle3">Installing from the Tarball for Systems Using SysV (Service Start)</h3>

    
    <div class="body taskbody"><p class="shortdesc">Operating systems that use the SysV init system include <span class="ph">CentOS 6, Red Hat Enterprise Linux 6, or Ubuntu 14.04
                  LTS</span>. </p>

        <div class="section context" id="task_hsl_ccm_5v__context_a5l_jvw_5bb">
            <p class="p">Install the new version of the tarball. Installing the full <span class="ph">Data
                  Collector</span> as a service requires root privileges.  </p>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Use the following URL to download the full or core <span class="ph">Data
                  Collector</span> tarball from the StreamSets website: <a class="xref" href="https://streamsets.com/opensource" target="_blank">https://streamsets.com/opensource</a>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Extract the tarball to a different directory than the previous version.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Create a backup of the <samp class="ph codeph">/etc/init.d/sdc</samp> file that was used in
                    the previous version.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the following commands from the directory where you extracted the tarball
                    to copy the <span class="ph filepath">initd/_sdcinitd_prototype</span> file to the
                        <span class="ph filepath">/etc/init.d</span> directory and then change ownership of the
                    file to sdc:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">cp initd/_sdcinitd_prototype  /etc/init.d/sdc
chown sdc:sdc /etc/init.d/sdc</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Edit the <samp class="ph codeph">/etc/init.d/sdc</samp> file and set the
                        <samp class="ph codeph">$SDC_DIST</samp> and <samp class="ph codeph">$SDC_HOME</samp> environment
                    variables to the location where you extracted the tarball.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the following command to make the sdc file executable:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">chmod 755 /etc/init.d/sdc</pre>

                </div>
            </li>
</ol>

    </div>

</div>
<div class="topic task nested2" id="task_xld_dvw_5bb">
    <h3 class="title topictitle3">Installing from the Tarball for Systems Using Systemd (Service Start)</h3>

    
    <div class="body taskbody"><p class="shortdesc">Operating systems that use the systemd init system include <span class="ph">CentOS 7, Red Hat Enterprise Linux 7, or Ubuntu 16.04
                  LTS</span>. </p>

        <div class="section context">
            <p class="p">Install the new version of the tarball. Installing the full <span class="ph">Data
                  Collector</span> as a service requires root privileges. </p>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Use the following URL to download the full or core <span class="ph">Data
                  Collector</span> tarball from the StreamSets website: <a class="xref" href="https://streamsets.com/opensource" target="_blank">https://streamsets.com/opensource</a>.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Extract the tarball to a different directory than the previous version.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the following command from the directory where you extracted the tarball to
                    copy <samp class="ph codeph">systemd/sdc.service</samp> to the
                        <samp class="ph codeph">/etc/systemd/system</samp> directory:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">cp systemd/sdc.service /etc/systemd/system/sdc.service</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Optionally, override the
                        <samp class="ph systemoutput">/etc/systemd/system/sdc.service</samp> file to modify
                    the environment variables that define the <a class="xref" href="../Configuration/DCEnvironmentConfig.html#concept_htz_t1s_3v" title="When you run Data Collector as a service, Data Collector runs as the system user account and group defined in environment variables. The default system user and group are named sdc.">system user and group</a>.</span>
                <div class="itemgroup info">
                    <p class="p">For example, if you modified the default system user and group used by the
                        previous version of Data Collector, configure the new version to use the
                        same system user and group.</p>

                    <p class="p">Override the default values in the
                        <samp class="ph codeph">sdc.service</samp> file using the same procedure that you use to
                  override unit configuration files on a systemd init system. For an example, see
                  "Example 2. Overriding vendor settings" in this <a class="xref" href="https://www.freedesktop.org/software/systemd/man/systemd.unit.html" target="_blank">systemd.unit manpage</a>.</p>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the following command from the directory where you extracted the tarball to
                    copy <samp class="ph codeph">systemd/sdc.socket</samp> to the
                        <samp class="ph codeph">/etc/systemd/system</samp> directory:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">cp systemd/sdc.socket /etc/systemd/system/sdc.socket</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Edit the <samp class="ph systemoutput">/etc/systemd/system/sdc.socket</samp> file to
                    modify the <span class="ph">Data
                  Collector</span> port number to match the previous version. The port must match the one
                    defined in <samp class="ph codeph">sdc.properties</samp>. Default is 18630.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the following command to reload the systemd manager configuration:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">systemctl daemon-reload</pre>

                </div>
            </li>
</ol>

    </div>

</div>
</div>
<div class="topic task nested1" id="task_wzl_hst_xv">
    <h2 class="title topictitle2">Step 4. Update the Environment Configuration File</h2>

    
    <div class="body taskbody"><p class="shortdesc">Update the environment configuration file so that the new version of <span class="ph">Data
                  Collector</span> uses a
        new configuration directory but the same working data, log, and resource directories as the
        previous version. </p>

        <div class="section context">
            <p class="p">For example, your previous <span class="ph">Data
                  Collector</span> version used the directory <samp class="ph codeph">/var/lib/sdc</samp> to store the data files
                for pipeline configuration and run details. When you upgrade, you configure the new
                version of <span class="ph">Data
                  Collector</span> to use the same working directory <samp class="ph codeph">/var/lib/sdc</samp> for the data
                files. As a result, the new version has access to the pipelines created in the
                previous version.</p>

            <p class="p">You also must update the environment configuration file with any other customized
                property values that you defined in the previous version.</p>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">In the new version of <span class="ph">Data
                  Collector</span>, open the appropriate environment configuration file for your
                    installation:</span>
                <div class="itemgroup info">
                    <ul class="ul" id="task_wzl_hst_xv__ul_amx_q35_xv">
                        <li class="li"><samp class="ph codeph">$SDC_DIST/libexec/sdc-env.sh</samp> - Used when you start <span class="ph">Data
                  Collector</span> manually from the command line or when you start Data Collector as a
                            service on <span class="ph">CentOS 7, Red Hat Enterprise Linux 7, or Ubuntu 16.04
                  LTS</span>. </li>

                        <li class="li"><samp class="ph codeph">$SDC_DIST/libexec/sdcd-env.sh</samp> - Used when you start <span class="ph">Data
                  Collector</span> as a service on <span class="ph">CentOS 6, Red Hat Enterprise Linux 6, or Ubuntu 14.04
                  LTS</span>.</li>

                    </ul>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Update the directory environment variables to use the following values: </span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_wzl_hst_xv__table_kcx_v35_xv" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr>
                                    <th class="entry" valign="top" width="33.33333333333333%" id="d491115e730">Environment Variable</th>

                                    <th class="entry" valign="top" width="66.66666666666666%" id="d491115e733">Value</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr>
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d491115e730 ">SDC_CONF</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d491115e733 ">New location outside of the base <span class="ph">Data
                  Collector</span> runtime directory and unique from the previous renamed
                                        directory. For example, if you renamed the previous
                                        configuration directory to <samp class="ph codeph">/etc/sdc2700</samp>,
                                        use the value <samp class="ph codeph">/etc/sdc</samp>.</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d491115e730 ">SDC_DATA</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d491115e733 ">Same directory that the previous version used.</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d491115e730 ">SDC_LOG</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d491115e733 ">Same directory that the previous version used.</td>

                                </tr>

                                <tr>
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d491115e730 ">SDC_RESOURCES</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d491115e733 ">Same directory that the previous version used.</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">If you installed external libraries or developed custom stages, add the
                    STREAMSETS_LIBRARIES_EXTRA_DIR or USER_LIBRARIES_DIR environment variable to the
                    environment configuration file, and set it to the same directory used in the
                    previous version.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Manually update the environment configuration file with any other customized
                    property values that you defined in the previous version.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the following command to create the <span class="ph">Data
                  Collector</span> configuration directory at <samp class="ph codeph">/etc/sdc</samp>: </span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">mkdir /etc/sdc</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the following command from the directory where you extracted the tarball to
                    copy all files from etc into the <span class="ph">Data
                  Collector</span> configuration directory that you just created:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">cp -R etc/* /etc/sdc</pre>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To run <span class="ph">Data
                  Collector</span> as a service, change the owner of the <samp class="ph codeph">/etc/sdc</samp> directory and
                    all files in the directory to the system user and group that starts <span class="ph">Data
                  Collector</span>. </span>
                <div class="itemgroup info">By default, <span class="ph">Data
                  Collector</span> uses a system user and group named <samp class="ph codeph">sdc</samp>.</div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Use the following command to set owner only permission on the
                        <samp class="ph codeph">form-realm.properties</samp> file in the <samp class="ph codeph">/etc/sdc</samp>
                    directory: </span>
                <div class="itemgroup info">
                    <pre class="pre codeblock">chmod go-rwx /etc/sdc/form-realm.properties</pre>

                </div>
            </li>
</ol>

    </div>

    <div class="related-links"><div class="relinfo"><strong>Related information</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../Configuration/DCEnvironmentConfig.html#concept_rng_qym_qr" title="You can edit the Data Collector environment configuration file to modify the directories used to store configuration, data, log, and resource files.When you run Data Collector as a service, Data Collector runs as the system user account and group defined in environment variables. The default system user and group are named sdc.Increase or decrease the Data Collector Java heap size as necessary, based on the resources available on the host machine. By default, the Java heap size is 1024 MB. You can enable remote debugging to debug a Data Collector instance running on a remote machine. You can define the Java garbage collector that Data Collector uses. By default, Data Collector uses the Concurrent Mark Sweep (CMS) garbage collector.Data Collector includes a Java Security Manager that is enabled by default. You can edit the Data Collector environment configuration file to configure the path to JAR files to be added to the Data Collector root classloader.">Data Collector Environment Configuration</a></div>
</div>
</div>
</div>
<div class="topic task nested1" id="task_orr_vcg_2y">
    <h2 class="title topictitle2">Step 5. Update the Configuration Files</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p">A new <span class="ph">Data
                  Collector</span> version can include new properties and configuration files required for <span class="ph">Data
                  Collector</span> to start or function properly. In the previous step, you updated the environment
                configuration file so that the new version of <span class="ph">Data
                  Collector</span> uses the new configuration files stored in the <samp class="ph codeph">$SDC_CONF</samp>
                directory. In this step, youâ€™ll compare the previous and new versions of the
                configuration files, and update the new files as needed with the same customized
                property values.</p>

            <p class="p">For example when upgrading from version 2.7.0.0, you'd compare the files in your back
                up directory, /etc/sdc2700, with the files in the /etc/sdc directory. Then update
                the new files in the /etc/sdc directory with any customizations made in the previous
                files in the /etc/sdc2700 directory.</p>

        </div>

        <ol class="ol steps"><li class="li step stepexpand">
                <span class="ph cmd">Compare the previous and new versions of the <samp class="ph codeph">sdc.properties</samp>
                    file, and update the new file as needed with the same customized property
                    values.</span>
            </li>
<li class="li step stepexpand" id="task_orr_vcg_2y__DPMConfigFiles">
                <span class="ph cmd">If you registered the previous <span class="ph">Data
                  Collector</span> to work with <span class="ph">StreamSets Control Hub</span>, complete the following steps to update the configuration files used by <span class="ph">Control Hub</span>: </span>
                <ol type="a" class="ol substeps" id="task_orr_vcg_2y__substeps_zvl_qhj_2y">
                    <li class="li substep substepexpand">
                        <span class="ph cmd">Compare the previous and new version of the
                                <samp class="ph codeph">dpm.properties</samp> file, and update the new file as
                            needed with the same customized property values.</span>
                    </li>

                    <li class="li substep substepexpand">
                        <span class="ph cmd">Replace the new version of the <samp class="ph codeph">application-token.txt</samp>
                            file with the previous version of the file.</span>
                        <div class="itemgroup info">The previous version of the file includes the authentication token
                            that this <span class="ph">Data
                  Collector</span> instance requires to issue authenticated requests to <span class="ph">Control Hub</span>. As a result, you'll need <span class="ph">Data
                  Collector</span> to use the previous version of the file.</div>
                    </li>

                </ol>

            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Compare the previous and new versions of the remaining files, and update the
                    new files as needed with the same customized property values:</span>
                <div class="itemgroup info">
                    <ul class="ul">
                        <li class="li">The appropriate realm.properties file, based on the authentication type
                            that you use.</li>

                        <li class="li">credential stores properties file</li>

                        <li class="li"><samp class="ph codeph">email-password.txt</samp></li>

                        <li class="li">keystore files</li>

                        <li class="li">LDAP files</li>

                        <li class="li">log4j properties file</li>

                        <li class="li">security policy file</li>

                        <li class="li">Vault properties file<p class="p">As of version 2.7.0.0, most of the Vault
                                configuration properties have been moved to the new credential
                                stores properties file. The properties use the same name, with an
                                added "credentialStore.vault.config" prefix. If you are upgrading
                                from a version earlier than 2.7.0.0, copy any values that you
                                customized in the previous Vault properties file into the same
                                property names in the credential stores properties file.</p>
</li>

                    </ul>

                </div>
            </li>
</ol>

    </div>

</div>
<div class="topic concept nested1" id="concept_zyd_ngr_5v">
 <h2 class="title topictitle2">Step 6. Install Additional Libraries for the Core Installation</h2>

 <p class="shortdesc">If you upgraded a core installation of <span class="ph">Data
                  Collector</span>,
        install the individual stage libraries that the upgraded pipelines require. Use the Package
        Manager or the <samp class="ph codeph">stagelibs</samp> command to install additional stage
        libraries.</p>

    <div class="related-links"><div class="relinfo"><strong>Related information</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../Installation/AddtionalStageLibs.html#concept_h5k_jbl_nx" title="Installing for Tarball Using the Package Manager">Installing for Tarball Using the Package Manager</a></div>
<div class="related_link"><a class="navheader_parent_path" href="../Installation/AddtionalStageLibs.html#concept_bnl_n3n_s5" title="Installing for Tarball Using the Command Line">Installing for Tarball Using the Command Line</a></div>
</div>
</div>
</div>
<div class="topic concept nested1" id="concept_uct_wfr_5v">
    <h2 class="title topictitle2">Step 7. Start the New Version of Data Collector</h2>

    
    <div class="body conbody"><p class="shortdesc">Start the new version of <span class="ph">Data
                  Collector</span>.</p>

        <dl class="dl">
            
                <dt class="dt dlterm">To start <span class="ph">Data
                  Collector</span> manually</dt>

                <dd class="dd">Use the following command to run <span class="ph">Data
                  Collector</span> as the system user account logged into the command
                    prompt:<pre class="pre codeblock">$SDC_DIST/bin/streamsets dc</pre>
</dd>

                <dd class="dd">Or, use the following command to run <span class="ph">Data
                  Collector</span> in the
                    background:<pre class="pre codeblock">nohup $SDC_DIST/bin/streamsets dc &amp;</pre>
</dd>

                <dd class="dd">Use the following command to run <span class="ph">Data
                  Collector</span> as another system user
                    account:<pre class="pre codeblock">sudo -u &lt;user&gt; $SDC_DIST/bin/streamsets dc</pre>
</dd>

            
            
                <dt class="dt dlterm">To start <span class="ph">Data
                  Collector</span> as a service</dt>

                <dd class="dd">Use the required command for your operating system:<ul class="ul" id="concept_uct_wfr_5v__ul_ozx_tbv_5bb">
                        <li class="li">For <span class="ph">CentOS 6, Red Hat Enterprise Linux 6, or Ubuntu 14.04
                  LTS</span>, use:<pre class="pre codeblock">service sdc start</pre>
</li>

                        <li class="li">For <span class="ph">CentOS 7, Red Hat Enterprise Linux 7, or Ubuntu 16.04
                  LTS</span>, use:<pre class="pre codeblock">systemctl start sdc</pre>
</li>

                    </ul>
</dd>

            
        </dl>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Upgrade/Upgrade_title.html" title="Upgrade"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Upgrade</span></a></span>  </div><div class="footer" id="webhelp_copyright_information"><!--

    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

--><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script></div>
</body>
</html>

<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="You can create data drift rules to indicate when the structure of data changes. You can create data drift rules on any link in the pipeline. You can also enable metrics and create alerts for data ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="Data Drift Rules and Alerts"></meta><meta name="abstract" content="You can create data drift rules to indicate when the structure of data changes. You can create data drift rules on any link in the pipeline. You can also enable metrics and create alerts for data drift rules."></meta><meta name="description" content="You can create data drift rules to indicate when the structure of data changes. You can create data drift rules on any link in the pipeline. You can also enable metrics and create alerts for data drift rules."></meta><meta name="DC.Relation" scheme="URI" content="../Alerts/RulesAlerts_title.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_wbz_mkk_p5"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Data Drift Rules and Alerts</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--></head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../Alerts/RulesAlerts_title.html" title="Rules and Alerts">Rules and Alerts</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../Alerts/RulesAlerts_title.html" title="Rules and Alerts"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Rules and Alerts</span></a></span>  </div></td></tr></tbody></table>
<div class="nested0" id="concept_wbz_mkk_p5">
 <h1 class="title topictitle1">Data Drift Rules and Alerts</h1>

 
 <div class="body conbody"><p class="shortdesc">You can create data drift rules to indicate when the structure of data changes. You can
        create data drift rules on any link in the pipeline. You can also enable metrics and create
        alerts for data drift rules.</p>

  <div class="p">The expression language
            provides data drift functions for creating data drift rules. You can use specific field
            types with each function. The following table describes the type of data drift rules
            that you can generate on the different field types:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_wbz_mkk_p5__table_kb1_3hh_q5" class="table" frame="border" border="1" rules="all">
                    
                    
                    
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" width="33.33333333333333%" id="d4969e42">Data Drift Rule</th>

                            <th class="entry" valign="top" width="33.33333333333333%" id="d4969e45">Drift Function</th>

                            <th class="entry" valign="top" width="33.33333333333333%" id="d4969e48">Valid Field Data Types</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e42 ">Field name changes</td>

                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e45 "><samp class="ph codeph">drift:name()</samp></td>

                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e48 ">list-map<p class="p">map</p>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e42 ">Field order changes</td>

                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e45 "><samp class="ph codeph">drift:order()</samp></td>

                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e48 ">list-map</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e42 ">Number of fields</td>

                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e45 "><samp class="ph codeph">drift:size()</samp></td>

                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e48 ">list<p class="p">list-map</p>
<p class="p">map</p>
</td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e42 ">Field data type</td>

                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e45 "><samp class="ph codeph">drift:type()</samp></td>

                            <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e48 ">any</td>

                        </tr>

                    </tbody>

                </table>
</div>
</div>

        <p class="p">You can view the metrics and sample records for data drift rules in the same way that you
            view data rule metrics and records. For more information, see <a class="xref" href="DataAlerts.html#task_sx1_4qv_q5">Viewing Data Rule Metrics and Sample Data</a>.</p>

        <p class="p">For details about the data drift functions, see <a class="xref" href="../Expression_Language/Functions.html#concept_hpn_xfk_p5" title="Use data drift functions to create alerts when data drift occurs. You can use these functions in data drift rules.">Data Drift Functions</a>.</p>

 </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_rj4_y4g_q5">
 <h2 class="title topictitle2">Data Drift Alert Triggers</h2>

 
 <div class="body conbody"><p class="shortdesc">Data drift alerts trigger when a change of the specified type occurs from record to
        record. </p>

        <div class="p">For example, you
            have an alert that triggers when the number of fields in the record changes. When
            processing the records with the following number of columns, an alert triggers for both
            the third and fourth records:<table cellpadding="4" cellspacing="0" summary="" id="concept_rj4_y4g_q5__simpletable_xwv_stg_q5" border="1" class="simpletable"><tr class="sthead">
                    <th valign="bottom" align="left" id="d4969e166" class="stentry" width="50%">Record Number</th>

                    <th valign="bottom" align="left" id="d4969e169" class="stentry" width="50%">Number of Columns</th>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d4969e166" class="stentry">1</td>

                    <td valign="top" headers="d4969e169" class="stentry">10</td>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d4969e166" class="stentry">2</td>

                    <td valign="top" headers="d4969e169" class="stentry">10</td>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d4969e166" class="stentry">3</td>

                    <td valign="top" headers="d4969e169" class="stentry">15</td>

                </tr>
<tr class="strow">
                    <td valign="top" headers="d4969e166" class="stentry">4</td>

                    <td valign="top" headers="d4969e169" class="stentry">10</td>

                </tr>
</table>
</div>

        <p class="p">Data drift functions include an ignoreWhenMissing flag to determine the behavior when the
            specified field does not exist. When the specified field is missing and
            ignoreWhenMissing is set to true, an alert is not triggered.</p>

        <p class="p">When the specified field is missing and the ignoreWhenMissing flag is set to false, the
            expression triggers an alert for the missing field, and again for the next record when
            the field is present. </p>

        <div class="p">For example, the following expression checks the data type of the ID column with
            ignoreWhenMissing set to false:
            <pre class="pre codeblock">${drift:type('/UserID', false)}</pre>
</div>

        <p class="p">Say all records include the UserID field, and then a single record passes without the
            UserID field. This expression triggers an alert for the record with the missing field,
            and again when the next record arrives that includes the UserID field. </p>

 </div>

</div>
<div class="topic task nested1" id="task_dyk_ptm_q5">
    <h2 class="title topictitle2">Configuring Data Drift Rules and Alerts</h2>

    <div class="body taskbody">
        <div class="section context">Create a data drift rule to view
            metrics, sample data, and alerts based on the rule. You can configure data drift rules
            and alerts when you configure or monitor a pipeline. You can edit or delete data drift
            rules when they are not enabled. </div>

        <ol class="ol steps" id="task_dyk_ptm_q5__steps_mvl_w2k_br"><li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel or Monitor panel, click the <span class="ph uicontrol">Data Drift
                        Rules</span> tab, and then click the <span class="ph uicontrol">Add</span>
                    icon.</span>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">In the <span class="keyword wintitle">Data Drift Rule</span> dialog box, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_dyk_ptm_q5__table_blr_cfk_br" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="33.33333333333333%" id="d4969e278">Data Rule Property</th>

                                    <th class="entry" valign="top" width="66.66666666666666%" id="d4969e281">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e278 ">Stream</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d4969e281 ">Link selected for the data drift rule. </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e278 ">Label</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d4969e281 ">The label to display for the data drift rule. </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e278 ">Condition
                                        <a class="xref" href="../Expression_Language/Functions.html#concept_hpn_xfk_p5" title="Use data drift functions to create alerts when data drift occurs. You can use these functions in data drift rules.">
                                            <img class="image" id="task_dyk_ptm_q5__image_jwh_mcn_q5" src="../Graphics/icon_moreInfo.png" height="12" width="12"></img></a>
                                    </td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d4969e281 ">Condition that defines the data drift rule. You can use
                                        data drift functions and other aspects of the expression
                                        language to create the condition.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e278 ">Sampling Percentage</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d4969e281 ">Percentage of records to sample to generate information
                                        for the data drift rule. A higher percentage can provide
                                        greater accuracy but use more resources on the <span class="ph">Data
                  Collector</span> machine.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e278 ">Sampling Records to Retain</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d4969e281 ">Number of sampled records to keep in memory for
                                        display.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e278 ">Enable Meter</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d4969e281 ">Enables gathering information for the data drift rule.
                                        The information gathered displays when you select the link
                                        in Monitor mode. </td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e278 ">Enable Alert</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d4969e281 ">Enables an alert based on the data drift rule. Alerts
                                        display upon when the configured conditions occur.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e278 ">Alert Text</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d4969e281 ">Text to display when the alert is triggered. <p class="p">By
                                            default, uses the following expression to  returns text
                                            related to the drift alert:
                                                <samp class="ph codeph">${alert:info()}</samp>.</p>
</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d4969e278 ">Send Email</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d4969e281 ">Sends an email when the alert is triggered. <p class="p">To send an
                                            email, add email addresses for alerts and configure the
                                                <span class="ph">Data
                  Collector</span> email properties.</p>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Click <span class="ph uicontrol">Save</span>.</span>
                <div class="itemgroup info">The new data drift rule displays in the list. </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To enable the new rule, click <span class="ph uicontrol">Active</span>. </span>
                <div class="itemgroup info">You can enable and disable the meter and alert from the list of rules. You can
                    edit and delete disabled rules. </div>
            </li>
</ol>

    </div>

    <div class="related-links"><div class="relinfo reltasks"><strong>Related tasks</strong><br xmlns="http://www.w3.org/1999/xhtml" />
<div class="related_link"><a class="navheader_parent_path" href="EmailforAlerts-Configuring.html#task_f3v_1hw_1r" title="You can define the email addresses to receive metric and data alerts. When an alert triggers an email, the Data Collector sends an email to every address in the list.">Configuring Email for Alerts</a></div>
</div>
</div>
</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Alerts/RulesAlerts_title.html" title="Rules and Alerts"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Rules and Alerts</span></a></span>  </div><div class="footer"><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script></div>
</body>
</html>

<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="The StreamSets expression language enables you to create expressions that evaluate or modify data. The StreamSets expression language is based on the JSP 2.0 expression language. Use the expression ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="Expression Language"></meta><meta name="DC.Relation" scheme="URI" content="../Expression_Language/ExpressionLanguage_title.html"></meta><meta name="DC.Relation" scheme="URI" content="../Pipeline_Configuration/Expressions.html#concept_ofb_1cm_xq"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_p54_4kl_vq"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>Expression Language</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--></head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../Expression_Language/ExpressionLanguage_title.html" title="Expression Language">Expression Language</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../Expression_Language/ExpressionLanguage_title.html" title="Expression Language"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Expression Language</span></a></span>  </div></td></tr></tbody></table>
<div class="nested0" id="concept_p54_4kl_vq">
 <h1 class="title topictitle1">Expression Language</h1>

 <div class="body conbody">
  <p class="p">The StreamSets expression language
      enables you to create expressions that evaluate or modify data. The StreamSets expression
      language is based on the JSP 2.0 expression language. </p>

    <p class="p">Use the expression language to configure expressions and conditions in
                  processors, such as the Expression Evaluator or Stream Selector. Some destination
                  properties also require the expression language, such as the directory template
                  for Hadoop FS or Local FS. </p>
<p class="p">Optionally, you can use the expression language to define any stage or
                  pipeline property that represents a numeric or string value. This allows you to
                  use constants or runtime properties throughout the pipeline. You can use
                  expression completion to determine where you can use an expression and the
                  expression elements that you can use in that location. </p>
<div class="p">You can use the following elements in an expression:<ul class="ul" id="concept_p54_4kl_vq__d12166e1488">
                        <li class="li">Constants</li>

                        <li class="li">Datetime variables</li>

                        <li class="li">Field names</li>

                        <li class="li">Functions</li>

                        <li class="li">Literals</li>

                        <li class="li">Operators</li>

                        <li class="li">Runtime properties</li>

                        <li class="li">Runtime resources</li>

                  </ul>
</div>

 </div>

  <div class="related-links"><div class="relinfo relconcepts"><strong>Related concepts</strong><br xmlns="http://www.w3.org/1999/xhtml" />
<div class="related_link"><a class="navheader_parent_path" href="../Pipeline_Configuration/Expressions.html#concept_ofb_1cm_xq" title="Precede all expressions with a dollar sign and enclose them with curly brackets, as follows: ${&lt;expression&gt;}.You can use quotation marks and the backslash character to handle special characters in field names. When a pipeline is valid for preview, you can generally select fields from a list. When a list is not available or when you are defining a new field name, you need to use the appropriate format for the field name. In some processors, you can use the asterisk wildcard (*) as indices in an array or key values in a map. Use a wildcard to help define the field paths for maps and arrays. Use the following information and tips when you invoke expression completion:When an expression requires, the expression language attempts implicit data type conversion - a.k.a. data type coercion. When coercion is not possible, Data Collector passes the error records to the stage for error handling.">Expression Configuration</a></div>
</div>
</div>
<div class="topic concept nested1" id="concept_r1w_tkp_tt">
 <h2 class="title topictitle2">Expression Examples</h2>

 
 <div class="body conbody"><p class="shortdesc">The following tables include some examples of how you might use expressions in the <span class="ph">Data
                  Collector</span>.</p>

        <p class="p">Here are some examples of conditions:</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_r1w_tkp_tt__table_zhy_jmp_tt" class="table" frame="border" border="1" rules="all">
                
                
                <thead class="thead" align="left">
                    <tr class="row">
                        <th class="entry" valign="top" width="55.55555555555556%" id="d78810e115">Sample Conditions</th>

                        <th class="entry" valign="top" width="44.44444444444444%" id="d78810e118">Description</th>

                    </tr>

                </thead>

                <tbody class="tbody">
                    <tr class="row">
                        <td class="entry" valign="top" width="55.55555555555556%" headers="d78810e115 ">${record:value('/payment_type') == 'CRD'}</td>

                        <td class="entry" valign="top" width="44.44444444444444%" headers="d78810e118 ">In a Stream Selector, this condition routes records where the payment
                            type is credit card to the stream.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry" valign="top" width="55.55555555555556%" headers="d78810e115 ">${record:value('[3]/State') == "MD"}</td>

                        <td class="entry" valign="top" width="44.44444444444444%" headers="d78810e118 ">The same as above, but for a record in list format.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry" valign="top" width="55.55555555555556%" headers="d78810e115 ">${record:errorCode()=="FIELD_MERGER_02"}</td>

                        <td class="entry" valign="top" width="44.44444444444444%" headers="d78810e118 ">Used in a Stream Selector in an error pipeline, this condition routes
                            records with the FIELD_MERGER_02 error to a stream that corrects the
                            error.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry" valign="top" width="55.55555555555556%" headers="d78810e115 ">${record:value("[20]/value") == ""}</td>

                        <td class="entry" valign="top" width="44.44444444444444%" headers="d78810e118 ">When used in an alert, triggers an alert when the specified field
                            contains no data.</td>

                    </tr>

                    <tr class="row">
                        <td class="entry" valign="top" width="55.55555555555556%" headers="d78810e115 ">${record:type('/ID')=STRING}</td>

                        <td class="entry" valign="top" width="44.44444444444444%" headers="d78810e118 ">In the Stream Selector, routes records where the ID is a String to a
                            branch that includes a Field Type Converter to convert the field to a
                            numeric data type.</td>

                    </tr>

                </tbody>

            </table>
</div>

        <div class="p">The following table includes some string manipulation examples:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_r1w_tkp_tt__table_wnx_v5s_q5" class="table" frame="border" border="1" rules="all">
                    
                    
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" width="55.55555555555556%" id="d78810e187">Sample String Manipulation</th>

                            <th class="entry" valign="top" width="44.44444444444444%" id="d78810e190">Description</th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" width="55.55555555555556%" headers="d78810e187 ">${record:valueOrDefault('/Payment', 'unknown')} </td>

                            <td class="entry" valign="top" width="44.44444444444444%" headers="d78810e190 ">Replaces missing or null values in the Payment field with
                                "unknown". </td>

                        </tr>

                        <tr class="row">
                            <td class="entry" valign="top" width="55.55555555555556%" headers="d78810e187 ">${str:toUpper(record:value('/STATE')}</td>

                            <td class="entry" valign="top" width="44.44444444444444%" headers="d78810e190 ">Capitalizes all strings in the STATE field.</td>

                        </tr>

                    </tbody>

                </table>
</div>
</div>

        <div class="p">The following table includes an example of a numeric operation:
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="concept_r1w_tkp_tt__table_txw_dvs_q5" class="table" frame="border" border="1" rules="all">
                    
                    
                    <thead class="thead" align="left">
                        <tr class="row">
                            <th class="entry" valign="top" width="55.55555555555556%" id="d78810e232">Sample Numeric Operations</th>

                            <th class="entry" valign="top" width="44.44444444444444%" id="d78810e235">Â </th>

                        </tr>

                    </thead>

                    <tbody class="tbody">
                        <tr class="row">
                            <td class="entry" valign="top" width="55.55555555555556%" headers="d78810e232 ">${record:value('/total_amount') - (record:value('/tip_amount') +
                                record:value('/tolls') + record:value('/mta_tax'))}</td>

                            <td class="entry" valign="top" width="44.44444444444444%" headers="d78810e235 ">An expression that calculates trip revenue by subtracting the
                                tip, taxes, and tolls from the total fare amount</td>

                        </tr>

                    </tbody>

                </table>
</div>
</div>

 </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Expression_Language/ExpressionLanguage_title.html" title="Expression Language"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Expression Language</span></a></span>  </div><div class="footer"><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script></div>
</body>
</html>
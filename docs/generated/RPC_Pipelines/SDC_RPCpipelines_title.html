
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="Data Collector Remote Protocol Call pipelines, a.k.a. SDC RPC pipelines , are a set of StreamSets pipelines that pass data from one pipeline to another without writing to an intermediary system. SDC ..." /><meta name="copyright" content="(C) Copyright 2005" /><meta name="DC.rights.owner" content="(C) Copyright 2005" /><meta name="DC.Type" content="concept" /><meta name="DC.Title" content="SDC RPC Pipelines" /><meta name="DC.Relation" scheme="URI" content="../Multithreaded_Pipelines/MultithreadedPipelines.html#concept_wwq_gxc_py" /><meta name="DC.Relation" scheme="URI" content="../Cluster_Mode/ClusterPipelines_title.html#concept_fpz_5r4_vs" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="concept_wr1_ktz_bt" /><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>SDC RPC Pipelines</title><!--  Generated with Oxygen version 18.1, build number 2016112217.  --><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css" /><link rel="stylesheet" type="text/css" href="../skin.css" /><script type="text/javascript"><!--
            
            var prefix = "../index.html";
            
            --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.11.3.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script>
<!--
    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
</head>
<body onload="highlightSearchTerm()" class="frmBody">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td style="width:75%;"><span class="topic_breadcrumb_links"></span></td><td><span id="topic_navigation_links" class="navheader">
<span class="navprev"><a class="link" href="../Multithreaded_Pipelines/MultithreadedPipelines.html#concept_wwq_gxc_py" title="Multithreaded Pipelines"><span class="navheader_label">Previous topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Multithreaded Pipelines</span></a></span>  
<span class="navnext"><a class="link" href="../Cluster_Mode/ClusterPipelines_title.html#concept_fpz_5r4_vs" title="Cluster Pipelines"><span class="navheader_label">Next topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Cluster Pipelines</span></a></span>  </span></td></tr></tbody></table>
<div class="nested0" id="concept_wr1_ktz_bt">
 <h1 class="title topictitle1">SDC RPC Pipelines</h1>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_lnh_z3z_bt">
 <h2 class="title topictitle2">SDC RPC Pipeline Overview</h2>

 
 <div class="body conbody"><p class="shortdesc"><span class="ph">Data
                  Collector</span>
    Remote Protocol Call pipelines, a.k.a. <dfn class="term">SDC RPC pipelines</dfn>, are a set of StreamSets
    pipelines that pass data from one pipeline to another without writing to an intermediary system. </p>

    <p class="p">SDC RPC pipelines can write to each other on the same
      machine or over a local network or the public internet. You might use SDC RPC pipelines to
      send data securely between two data centers.</p>

    <p class="p">Typically, a pipeline uses a standard origin such as Directory and writes to a standard
      destination such as HBase. An SDC RPC pipeline includes an SDC RPC destination or an SDC RPC
      origin to communicate with another SDC RPC pipeline.</p>

    <p class="p">To use SDC RPC pipelines, you create an origin pipeline and a destination pipeline. The
      origin pipeline uses an SDC RPC destination to write directly to an SDC RPC origin in the
      destination pipeline, as follows: </p>

    <img class="image" id="concept_lnh_z3z_bt__image_gw4_mlb_dt" src="../Graphics/SDC_RPCpipelines.png" height="194" width="770" />
    <p class="p">The SDC RPC destination and SDC RPC origin enable you to pass data securely from one pipeline
      to another, effectively like creating a single pipeline that spans a network. </p>

  </div>

<div class="topic concept nested2" id="concept_vmj_3ff_ct">
 <h3 class="title topictitle3">Pipeline Types</h3>

 <div class="body conbody">
  <div class="p">You can create two kinds of
      SDC RPC pipelines: <dl class="dl">
        
          <dt class="dt dlterm">origin pipeline</dt>

          <dd class="dd">Processes data from the origin system and passes it to the destination pipeline. </dd>

          <dd class="dd">Uses an SDC RPC destination to pass data to a destination pipeline. To provide
            redundancy and load-balancing, you can define connections to multiple destination
            pipelines. </dd>

        
        
          <dt class="dt dlterm">destination pipeline</dt>

          <dd class="dd">Processes data from the origin pipeline and passes it to the destination system.</dd>

          <dd class="dd">Uses an SDC RPC origin to process data from the origin pipeline.</dd>

        
      </dl>
</div>

 </div>

</div>
</div>
<div class="topic concept nested1" id="concept_a4w_5tf_ct">
 <h2 class="title topictitle2">Deployment Architecture</h2>

 
 <div class="body conbody"><p class="shortdesc">When using SDC RPC pipelines, consider your needs and environment carefully as you
    design the deployment architecture. </p>

  <div class="p">One key
      point to consider:<dl class="dl">
        
          <dt class="dt dlterm">Use multiple destination pipelines to improve downstream availability</dt>

          <dd class="dd">To ensure downstream availability, you generally want to deploy multiple destination
            pipelines. </dd>

          <dd class="dd">Note that the origin pipeline writes data to a single destination pipeline, but can
            round-robin through multiple pipelines. By using multiple destination pipelines, you can
            provide redundancy and avoid bottlenecks with a high-volume origin pipeline:</dd>

          <dd class="dd"><img class="image" id="concept_a4w_5tf_ct__image_e1l_qmg_ct" src="../Graphics/SDC_RPCarch-oneSet.png" /></dd>

          <dd class="dd">If you have multiple pipelines with similar data, you might deploy several sets of
            this model to provide load-balancing and redundancy:</dd>

          <dd class="dd"><img class="image" id="concept_a4w_5tf_ct__image_pbj_msg_ct" src="../Graphics/SDC_RPCarch-manySets.png" height="449" width="501" /></dd>

        
      </dl>
</div>

 </div>

</div>
<div class="topic concept nested1" id="concept_drd_wqb_dt">
 <h2 class="title topictitle2">Configuring the Delivery Guarantee</h2>

 
 <div class="body conbody"><p class="shortdesc">The delivery guarantee determines when a pipeline commits the offset. When configuring
  the delivery guarantee for SDC RPC pipelines, use the same option in origin and destination
  pipelines.</p>

  <div class="p">A set of SDC RPC pipelines process data like a single
   pipeline: The origin pipeline creates a batch, passes it through the pipeline, then passes it to
   the destination pipeline. Only when the destination pipeline writes the batch to its destination
   systems does the <span class="ph">Data
                  Collector</span> commit the
   offset. As with standard pipelines, you can use the delivery guarantee property to define how the
    <span class="ph">Data
                  Collector</span> commits
   the offset: <ul class="ul" id="concept_drd_wqb_dt__ul_rfc_23b_ft">
    <li class="li">Use <span class="ph uicontrol">At Least Once </span>in both pipelines to ensure the pipelines process
     all data.</li>

    <li class="li">Use <span class="ph uicontrol">At Most Once</span> in both pipelines to avoid the possible duplication
     of data. </li>

   </ul>
</div>

  <div class="p">
   <div class="note note"><span class="notetitle">Note:</span> If the SDC RPC pipelines are configured to use different delivery guarantees, the resulting
    behavior is At Most Once.</div>

  </div>

 </div>

 <div class="related-links"><div class="relinfo relconcepts"><strong>Related concepts</strong><br />
<div class="related_link"><a class="navheader_parent_path" href="../Pipeline_Design/DatainMotion.html#concept_ffz_hhw_kq" title="When you configure a pipeline, you define how you want data to be treated: Do you want to prevent the loss of data or the duplication of data?">Delivery Guarantee</a></div>
</div>
</div>
</div>
<div class="topic concept nested1" id="concept_dgf_kkc_dt">
 <h2 class="title topictitle2">Defining the RPC ID</h2>

 
 <div class="body conbody"><p class="shortdesc">The RPC ID is a user-defined identifier that allows an SDC RPC origin and SDC RPC
        destination to recognize each other. </p>

  <p class="p">To
            enable the SDC RPC destination to write directly to an SDC RPC origin, use the same RPC
            ID in both stages. </p>

      <p class="p">To write to multiple pipelines, use the RPC ID in the SDC RPC destination and all related
            SDC RPC origins.</p>

 </div>

</div>
<div class="topic concept nested1" id="concept_mrm_qhf_2t">
 <h2 class="title topictitle2">Enabling Encryption</h2>

 
 <div class="body conbody"><p class="shortdesc">You can enable SDC RPC pipelines to transfer data securely using SSL/TLS. To use
    SSL/TLS, enable TLS in both the SDC RPC destination and the SDC RPC origin.</p>

  <div class="p">You need the following information to enable TLS in both
        stages:<ul class="ul" id="concept_mrm_qhf_2t__ul_drg_b3f_2t">
        <li class="li">A keystore file with the private keys of the TLS certificate, and the password for the
          file.</li>

        <li class="li">For self-signed certificates, a truststore file with the public key of the TLS
          certificate of the SDC RPC origin, and the password for the file.</li>

      </ul>
</div>

  <div class="p">To enable TLS:<ol class="ol" id="concept_mrm_qhf_2t__ol_bfn_k3f_2t">
        <li class="li">Save the keystore and the truststore files in the <span class="ph">Data
                  Collector</span>
          resources directory, <span class="ph filepath">$SDC_RESOURCES</span>.
          <p class="p">For more information about environment variables, see <a class="xref" href="../Configuration/DCEnvironmentConfig.html#concept_rng_qym_qr" title="You can edit the Data Collector environment configuration file to modify the directories used to store configuration, data, log, and resource files.When you run Data Collector as a service, Data Collector runs as the system user account and group defined in the SDC_USER and SDC_GROUP environment variables. The default system user and group are named sdc.Increase or decrease the Data Collector Java heap size as necessary, based on the resources available on the host machine. By default, the Java heap size is 1024 MB. You can enable remote debugging to debug a Data Collector instance running on a remote machine. You can define the Java garbage collector that Data Collector uses. By default, Data Collector uses the Concurrent Mark Sweep (CMS) garbage collector.Data Collector includes a Java Security Manager that is enabled by default. You can edit the Data Collector environment configuration file to configure the path to JAR files to be added to the Data Collector root classloader.">Data Collector Environment Configuration</a>.</p>
</li>

        <li class="li">In the SDC RPC destination, enter the truststore file name and password when using a
          self-signed certificate.</li>

        <li class="li">In the SDC RPC origin, enter the keystore file name and password. </li>

      </ol>
</div>

 </div>

</div>
<div class="topic concept nested1" id="concept_mhl_1jc_dt">
 <h2 class="title topictitle2">Configuration Guidelines for SDC RPC Pipelines</h2>

 <div class="body conbody">
  <p class="p">To create a
      valid set of SDC RPC pipelines, some configuration options must be aligned. Use the following
      guidelines to configure SDC RPC pipelines:</p>

  <div class="p">
   <dl class="dl">
    
     <dt class="dt dlterm">origin pipeline</dt>

     <dd class="dd">In the origin pipeline, configure the following elements:<ol class="ol" id="concept_mhl_1jc_dt__ol_wkt_rrc_dt">
       <li class="li">In the pipeline properties, set the Delivery Guarantee to the option you want to
        use.</li>

       <li class="li">In the pipeline, use the SDC RPC destination.</li>

       <li class="li">When you configure the SDC RPC destination, enter the RPC ID and RPC connection
                information. <p class="p">To use multiple destination pipelines, enter the RPC connection
                  information for each SDC RPC origin that you want to use. </p>
</li>

              <li class="li">To use encryption to transfer data between the pipelines, enable TLS and configure
                related properties.</li>

      </ol>
</dd>

    
    
     <dt class="dt dlterm">destination pipeline</dt>

     <dd class="dd">For each destination pipeline, configure the following elements:<ol class="ol" id="concept_mhl_1jc_dt__ol_e41_xrc_dt">
              <li class="li">In the pipeline properties, set the Delivery Guarantee to the same option as the
                origin pipeline. Using a different option causes the <span class="ph">Data
                  Collector</span>
                to default to At Most Once behavior.</li>

              <li class="li">In the pipeline, use the SDC RPC origin.</li>

              <li class="li">When you configure the SDC RPC origin, define the properties as follows:<ul class="ul" id="concept_mhl_1jc_dt__ul_ihl_zvw_dt">
                  <li class="li">Use the same RPC ID used in the SDC RPC destination.</li>

                  <li class="li">For the RPC Listening Port, enter the appropriate port number. <p class="p">It should be
                      a port number specified in one of the RPC connections in the SDC RPC
                      destination.</p>
</li>

                  <li class="li">To use encryption to transfer data between the pipelines, enable TLS and
                    configure related properties.</li>

                </ul>
</li>

            </ol>
</dd>

    
   </dl>

  </div>

 </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navprev"><a class="link" href="../Multithreaded_Pipelines/MultithreadedPipelines.html#concept_wwq_gxc_py" title="Multithreaded Pipelines"><span class="navheader_label">Previous topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Multithreaded Pipelines</span></a></span>  
<span class="navnext"><a class="link" href="../Cluster_Mode/ClusterPipelines_title.html#concept_fpz_5r4_vs" title="Cluster Pipelines"><span class="navheader_label">Next topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Cluster Pipelines</span></a></span>  </div><div class="footer" id="webhelp_copyright_information"><!--

    Copyright 2017 StreamSets Inc.

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

--><!-- SDC google analytics --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60917135-3', 'auto');
  ga('send', 'pageview');
</script></div>
</body>
</html>